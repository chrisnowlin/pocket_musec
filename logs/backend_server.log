INFO:     Will watch for changes in these directories: ['/Users/cnowlin/Developer/pocket_musec']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [93092] using WatchFiles
Starting PocketMusec API server...
Host: 0.0.0.0
Port: 8000
Auto-reload: True
API Docs: http://0.0.0.0:8000/api/docs

INFO:     Started server process [93094]
INFO:     Waiting for application startup.
2025-11-13 06:30:52,972 - backend.api.main - INFO - Starting PocketMusec API...
2025-11-13 06:30:52,972 - backend.repositories.migrations - INFO - Starting database migration...
2025-11-13 06:30:52,972 - backend.repositories.migrations - INFO - Database already at version 8, skipping standards migration
2025-11-13 06:30:52,972 - backend.repositories.migrations - INFO - Database already at version 8, skipping M3 migration
2025-11-13 06:30:52,972 - backend.repositories.migrations - INFO - Database already at version 8, skipping v4 migration
2025-11-13 06:30:52,972 - backend.repositories.migrations - INFO - Starting extended schema migration...
2025-11-13 06:30:52,973 - backend.repositories.migrations - INFO - Created unpacking document tables
2025-11-13 06:30:52,973 - backend.repositories.migrations - INFO - Created alignment document tables
2025-11-13 06:30:52,973 - backend.repositories.migrations - INFO - Created reference document tables
2025-11-13 06:30:52,973 - backend.repositories.migrations - INFO - Created extended table indexes
2025-11-13 06:30:52,973 - backend.repositories.migrations - INFO - Extended schema migration completed successfully
2025-11-13 06:30:52,973 - backend.repositories.migrations - INFO - Database already at version 8, skipping drafts migration
2025-11-13 06:30:52,973 - backend.repositories.migrations - INFO - Database already at version 8, skipping Kindergarten migration
2025-11-13 06:30:52,973 - backend.repositories.migrations - INFO - Database already at version 8, skipping file storage migration
2025-11-13 06:30:52,974 - backend.repositories.migrations - INFO - Database already at version 8, skipping file linking migration
2025-11-13 06:30:52,974 - backend.repositories.migrations - INFO - All migrations completed successfully
2025-11-13 06:30:52,974 - backend.api.main - INFO - Database migrations completed
2025-11-13 06:30:52,974 - backend.api.main - INFO - PocketMusec API started successfully
INFO:     Application startup complete.
2025-11-13 06:31:08,910 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 06:31:08,910 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 06:31:08,911 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 06:31:08,911 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 06:31:08,913 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 06:31:08,913 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:63050 - "GET /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:63053 - "GET /api/images HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:63055 - "GET /api/standards?grade_level=3&strand_code=CN HTTP/1.1" 200 OK
INFO:     127.0.0.1:63056 - "GET /api/drafts HTTP/1.1" 200 OK
INFO:     127.0.0.1:63049 - "POST /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:63054 - "GET /api/images/storage/info HTTP/1.1" 200 OK
2025-11-13 06:31:08,919 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 06:31:08,920 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:63065 - "GET /api/images/ HTTP/1.1" 200 OK
2025-11-13 06:31:08,921 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 06:31:08,921 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 06:31:08,922 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 06:31:08,923 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:63063 - "POST /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:63070 - "GET /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:63072 - "GET /api/images HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:63073 - "GET /api/standards?grade_level=3&strand_code=CN HTTP/1.1" 200 OK
INFO:     127.0.0.1:63076 - "GET /api/drafts HTTP/1.1" 200 OK
INFO:     127.0.0.1:63074 - "GET /api/images/storage/info HTTP/1.1" 200 OK
2025-11-13 06:31:08,927 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 06:31:08,927 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:63079 - "GET /api/standards?grade_level=3&strand_code=CN HTTP/1.1" 200 OK
2025-11-13 06:31:08,934 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 06:31:08,934 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:63065 - "GET /api/images/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:63082 - "GET /api/standards?grade_level=3&strand_code=CN HTTP/1.1" 200 OK
2025-11-13 06:32:46,989 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 06:32:46,990 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:63112 - "GET /api/ingestion/files?limit=10&offset=0 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63114 - "GET /api/ingestion/files/stats HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:63115 - "GET /api/standards HTTP/1.1" 200 OK
2025-11-13 06:32:46,995 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 06:32:46,995 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:63122 - "GET /api/ingestion/files/stats HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:63123 - "GET /api/ingestion/files?limit=10&offset=0 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63124 - "GET /api/standards HTTP/1.1" 200 OK
INFO:     127.0.0.1:63127 - "GET /api/ingestion/files?limit=10&offset=0 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63130 - "GET /api/ingestion/files?limit=10&offset=0 HTTP/1.1" 200 OK
2025-11-13 06:32:48,382 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 06:32:48,382 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 06:32:48,386 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 06:32:48,386 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 06:32:48,389 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 06:32:48,389 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:63142 - "GET /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:63144 - "GET /api/images HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:63148 - "GET /api/drafts HTTP/1.1" 200 OK
INFO:     127.0.0.1:63140 - "POST /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:63149 - "GET /api/standards?grade_level=3&strand_code=CN HTTP/1.1" 200 OK
INFO:     127.0.0.1:63147 - "GET /api/images/storage/info HTTP/1.1" 200 OK
2025-11-13 06:32:48,395 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 06:32:48,395 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:63155 - "GET /api/images HTTP/1.1" 307 Temporary Redirect
2025-11-13 06:32:48,398 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 06:32:48,398 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 06:32:48,400 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 06:32:48,400 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:63154 - "POST /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:63164 - "GET /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:63165 - "GET /api/drafts HTTP/1.1" 200 OK
INFO:     127.0.0.1:63167 - "GET /api/standards?grade_level=3&strand_code=CN HTTP/1.1" 200 OK
INFO:     127.0.0.1:63163 - "GET /api/images/ HTTP/1.1" 200 OK
2025-11-13 06:32:48,405 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 06:32:48,405 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:63169 - "GET /api/images/storage/info HTTP/1.1" 200 OK
INFO:     127.0.0.1:63172 - "GET /api/standards?grade_level=3&strand_code=CN HTTP/1.1" 200 OK
INFO:     127.0.0.1:63163 - "GET /api/images/ HTTP/1.1" 200 OK
2025-11-13 06:32:48,408 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 06:32:48,409 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:63175 - "GET /api/standards?grade_level=3&strand_code=CN HTTP/1.1" 200 OK
2025-11-13 06:37:41,186 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 06:37:41,186 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 06:37:41,188 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 06:37:41,188 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 06:37:41,189 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 06:37:41,189 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:63271 - "GET /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:63274 - "GET /api/images HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:63277 - "GET /api/drafts HTTP/1.1" 200 OK
INFO:     127.0.0.1:63279 - "GET /api/standards?grade_level=3&strand_code=CN HTTP/1.1" 200 OK
INFO:     127.0.0.1:63270 - "POST /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:63275 - "GET /api/images/storage/info HTTP/1.1" 200 OK
2025-11-13 06:37:41,194 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 06:37:41,194 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:63285 - "GET /api/images HTTP/1.1" 307 Temporary Redirect
2025-11-13 06:37:41,196 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 06:37:41,196 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 06:37:41,197 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 06:37:41,198 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:63284 - "POST /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:63291 - "GET /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:63293 - "GET /api/drafts HTTP/1.1" 200 OK
INFO:     127.0.0.1:63296 - "GET /api/standards?grade_level=3&strand_code=CN HTTP/1.1" 200 OK
INFO:     127.0.0.1:63299 - "GET /api/images/ HTTP/1.1" 200 OK
2025-11-13 06:37:41,201 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 06:37:41,202 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:63297 - "GET /api/images/storage/info HTTP/1.1" 200 OK
INFO:     127.0.0.1:63302 - "GET /api/standards?grade_level=3&strand_code=CN HTTP/1.1" 200 OK
INFO:     127.0.0.1:63299 - "GET /api/images/ HTTP/1.1" 200 OK
2025-11-13 06:37:41,204 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 06:37:41,204 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:63307 - "GET /api/standards?grade_level=3&strand_code=CN HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'scripts/migrate_standards_database.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-11-13 09:58:49,296 - backend.api.main - INFO - Shutting down PocketMusec API...
INFO:     Application shutdown complete.
INFO:     Finished server process [93094]
INFO:     Started server process [28178]
INFO:     Waiting for application startup.
2025-11-13 09:58:50,179 - backend.api.main - INFO - Starting PocketMusec API...
2025-11-13 09:58:50,179 - backend.repositories.migrations - INFO - Starting database migration...
2025-11-13 09:58:50,181 - backend.repositories.migrations - INFO - Database already at version 8, skipping standards migration
2025-11-13 09:58:50,181 - backend.repositories.migrations - INFO - Database already at version 8, skipping M3 migration
2025-11-13 09:58:50,181 - backend.repositories.migrations - INFO - Database already at version 8, skipping v4 migration
2025-11-13 09:58:50,181 - backend.repositories.migrations - INFO - Starting extended schema migration...
2025-11-13 09:58:50,182 - backend.repositories.migrations - INFO - Created unpacking document tables
2025-11-13 09:58:50,182 - backend.repositories.migrations - INFO - Created alignment document tables
2025-11-13 09:58:50,182 - backend.repositories.migrations - INFO - Created reference document tables
2025-11-13 09:58:50,182 - backend.repositories.migrations - INFO - Created extended table indexes
2025-11-13 09:58:50,182 - backend.repositories.migrations - INFO - Extended schema migration completed successfully
2025-11-13 09:58:50,182 - backend.repositories.migrations - INFO - Database already at version 8, skipping drafts migration
2025-11-13 09:58:50,182 - backend.repositories.migrations - INFO - Database already at version 8, skipping Kindergarten migration
2025-11-13 09:58:50,182 - backend.repositories.migrations - INFO - Database already at version 8, skipping file storage migration
2025-11-13 09:58:50,182 - backend.repositories.migrations - INFO - Database already at version 8, skipping file linking migration
2025-11-13 09:58:50,182 - backend.repositories.migrations - INFO - All migrations completed successfully
2025-11-13 09:58:50,183 - backend.api.main - INFO - Database migrations completed
2025-11-13 09:58:50,183 - backend.api.main - INFO - PocketMusec API started successfully
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'scripts/migrate_standards_database.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-11-13 09:59:27,238 - backend.api.main - INFO - Shutting down PocketMusec API...
INFO:     Application shutdown complete.
INFO:     Finished server process [28178]
INFO:     Started server process [28911]
INFO:     Waiting for application startup.
2025-11-13 09:59:27,837 - backend.api.main - INFO - Starting PocketMusec API...
2025-11-13 09:59:27,837 - backend.repositories.migrations - INFO - Starting database migration...
2025-11-13 09:59:27,838 - backend.repositories.migrations - INFO - Database already at version 8, skipping standards migration
2025-11-13 09:59:27,838 - backend.repositories.migrations - INFO - Database already at version 8, skipping M3 migration
2025-11-13 09:59:27,838 - backend.repositories.migrations - INFO - Database already at version 8, skipping v4 migration
2025-11-13 09:59:27,838 - backend.repositories.migrations - INFO - Starting extended schema migration...
2025-11-13 09:59:27,838 - backend.repositories.migrations - INFO - Created unpacking document tables
2025-11-13 09:59:27,838 - backend.repositories.migrations - INFO - Created alignment document tables
2025-11-13 09:59:27,838 - backend.repositories.migrations - INFO - Created reference document tables
2025-11-13 09:59:27,838 - backend.repositories.migrations - INFO - Created extended table indexes
2025-11-13 09:59:27,838 - backend.repositories.migrations - INFO - Extended schema migration completed successfully
2025-11-13 09:59:27,839 - backend.repositories.migrations - INFO - Database already at version 8, skipping drafts migration
2025-11-13 09:59:27,839 - backend.repositories.migrations - INFO - Database already at version 8, skipping Kindergarten migration
2025-11-13 09:59:27,839 - backend.repositories.migrations - INFO - Database already at version 8, skipping file storage migration
2025-11-13 09:59:27,839 - backend.repositories.migrations - INFO - Database already at version 8, skipping file linking migration
2025-11-13 09:59:27,839 - backend.repositories.migrations - INFO - All migrations completed successfully
2025-11-13 09:59:27,839 - backend.api.main - INFO - Database migrations completed
2025-11-13 09:59:27,839 - backend.api.main - INFO - PocketMusec API started successfully
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'scripts/migrate_standards_database.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-11-13 09:59:41,982 - backend.api.main - INFO - Shutting down PocketMusec API...
INFO:     Application shutdown complete.
INFO:     Finished server process [28911]
INFO:     Started server process [29472]
INFO:     Waiting for application startup.
2025-11-13 09:59:42,587 - backend.api.main - INFO - Starting PocketMusec API...
2025-11-13 09:59:42,587 - backend.repositories.migrations - INFO - Starting database migration...
2025-11-13 09:59:42,587 - backend.repositories.migrations - INFO - Database already at version 8, skipping standards migration
2025-11-13 09:59:42,587 - backend.repositories.migrations - INFO - Database already at version 8, skipping M3 migration
2025-11-13 09:59:42,588 - backend.repositories.migrations - INFO - Database already at version 8, skipping v4 migration
2025-11-13 09:59:42,588 - backend.repositories.migrations - INFO - Starting extended schema migration...
2025-11-13 09:59:42,588 - backend.repositories.migrations - INFO - Created unpacking document tables
2025-11-13 09:59:42,588 - backend.repositories.migrations - INFO - Created alignment document tables
2025-11-13 09:59:42,588 - backend.repositories.migrations - INFO - Created reference document tables
2025-11-13 09:59:42,588 - backend.repositories.migrations - INFO - Created extended table indexes
2025-11-13 09:59:42,588 - backend.repositories.migrations - INFO - Extended schema migration completed successfully
2025-11-13 09:59:42,588 - backend.repositories.migrations - INFO - Database already at version 8, skipping drafts migration
2025-11-13 09:59:42,588 - backend.repositories.migrations - INFO - Database already at version 8, skipping Kindergarten migration
2025-11-13 09:59:42,589 - backend.repositories.migrations - INFO - Database already at version 8, skipping file storage migration
2025-11-13 09:59:42,589 - backend.repositories.migrations - INFO - Database already at version 8, skipping file linking migration
2025-11-13 09:59:42,589 - backend.repositories.migrations - INFO - All migrations completed successfully
2025-11-13 09:59:42,589 - backend.api.main - INFO - Database migrations completed
2025-11-13 09:59:42,589 - backend.api.main - INFO - PocketMusec API started successfully
INFO:     Application startup complete.
2025-11-13 10:35:36,188 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 10:35:36,188 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 10:35:36,190 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 10:35:36,190 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 10:35:36,191 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 10:35:36,191 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:49886 - "GET /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:49887 - "GET /api/images HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:49889 - "GET /api/drafts HTTP/1.1" 200 OK
2025-11-13 10:35:36,193 - backend.api.main - ERROR - Unexpected error: no such column: standard_id
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 93, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 78, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 118, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/middleware.py", line 66, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/middleware.py", line 56, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/routes/standards.py", line 44, in list_standards
    standards = repo.list_standards(
                ^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/repositories/standards_repository.py", line 85, in list_standards
    cursor = conn.execute(base_query, tuple(params))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such column: standard_id
INFO:     127.0.0.1:49890 - "GET /api/standards?grade_level=3&strand_code=CN HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 93, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 78, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 118, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/middleware.py", line 66, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/middleware.py", line 56, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/routes/standards.py", line 44, in list_standards
    standards = repo.list_standards(
                ^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/repositories/standards_repository.py", line 85, in list_standards
    cursor = conn.execute(base_query, tuple(params))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such column: standard_id
INFO:     127.0.0.1:49885 - "POST /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:49888 - "GET /api/images/storage/info HTTP/1.1" 200 OK
2025-11-13 10:35:36,204 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 10:35:36,204 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 10:35:36,206 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 10:35:36,207 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 10:35:36,208 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 10:35:36,208 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:49895 - "GET /api/images/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:49893 - "POST /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:49900 - "GET /api/images HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:49904 - "GET /api/sessions HTTP/1.1" 200 OK
2025-11-13 10:35:36,210 - backend.api.main - ERROR - Unexpected error: no such column: standard_id
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 93, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 78, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 118, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/middleware.py", line 66, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/middleware.py", line 56, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/routes/standards.py", line 44, in list_standards
    standards = repo.list_standards(
                ^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/repositories/standards_repository.py", line 85, in list_standards
    cursor = conn.execute(base_query, tuple(params))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such column: standard_id
INFO:     127.0.0.1:49906 - "GET /api/standards?grade_level=3&strand_code=CN HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 93, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 78, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 118, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/middleware.py", line 66, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/middleware.py", line 56, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/routes/standards.py", line 44, in list_standards
    standards = repo.list_standards(
                ^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/repositories/standards_repository.py", line 85, in list_standards
    cursor = conn.execute(base_query, tuple(params))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such column: standard_id
INFO:     127.0.0.1:49909 - "GET /api/drafts HTTP/1.1" 200 OK
2025-11-13 10:35:36,214 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 10:35:36,215 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:49910 - "GET /api/images/storage/info HTTP/1.1" 200 OK
2025-11-13 10:35:36,216 - backend.api.main - ERROR - Unexpected error: no such column: standard_id
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 93, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 78, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 118, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/middleware.py", line 66, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/middleware.py", line 56, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/routes/standards.py", line 44, in list_standards
    standards = repo.list_standards(
                ^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/repositories/standards_repository.py", line 85, in list_standards
    cursor = conn.execute(base_query, tuple(params))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such column: standard_id
INFO:     127.0.0.1:49913 - "GET /api/standards?grade_level=3&strand_code=CN HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 93, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 78, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 118, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/middleware.py", line 66, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/middleware.py", line 56, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/routes/standards.py", line 44, in list_standards
    standards = repo.list_standards(
                ^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/repositories/standards_repository.py", line 85, in list_standards
    cursor = conn.execute(base_query, tuple(params))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such column: standard_id
INFO:     127.0.0.1:49895 - "GET /api/images/ HTTP/1.1" 200 OK
2025-11-13 10:35:36,219 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 10:35:36,219 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 10:35:36,220 - backend.api.main - ERROR - Unexpected error: no such column: standard_id
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 93, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 78, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 118, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/middleware.py", line 66, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/middleware.py", line 56, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/routes/standards.py", line 44, in list_standards
    standards = repo.list_standards(
                ^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/repositories/standards_repository.py", line 85, in list_standards
    cursor = conn.execute(base_query, tuple(params))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such column: standard_id
INFO:     127.0.0.1:49916 - "GET /api/standards?grade_level=3&strand_code=CN HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 93, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 78, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 118, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/middleware.py", line 66, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/middleware.py", line 56, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/routes/standards.py", line 44, in list_standards
    standards = repo.list_standards(
                ^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/repositories/standards_repository.py", line 85, in list_standards
    cursor = conn.execute(base_query, tuple(params))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such column: standard_id
2025-11-13 10:35:39,521 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 10:35:39,522 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 10:35:39,524 - backend.api.main - ERROR - Unexpected error: no such column: standard_id
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 93, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 78, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 118, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/middleware.py", line 66, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/middleware.py", line 56, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/routes/standards.py", line 44, in list_standards
    standards = repo.list_standards(
                ^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/repositories/standards_repository.py", line 85, in list_standards
    cursor = conn.execute(base_query, tuple(params))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such column: standard_id
INFO:     127.0.0.1:49919 - "GET /api/standards?strand_code=CN HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 93, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 78, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 118, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/middleware.py", line 66, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/middleware.py", line 56, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/routes/standards.py", line 44, in list_standards
    standards = repo.list_standards(
                ^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/repositories/standards_repository.py", line 85, in list_standards
    cursor = conn.execute(base_query, tuple(params))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such column: standard_id
2025-11-13 10:35:40,112 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 10:35:40,113 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 10:35:40,115 - backend.api.main - ERROR - Unexpected error: no such column: standard_id
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 93, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 78, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 118, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/middleware.py", line 66, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/middleware.py", line 56, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/routes/standards.py", line 44, in list_standards
    standards = repo.list_standards(
                ^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/repositories/standards_repository.py", line 85, in list_standards
    cursor = conn.execute(base_query, tuple(params))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such column: standard_id
INFO:     127.0.0.1:49922 - "GET /api/standards?grade_level=0&strand_code=CN HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 93, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 78, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 118, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/middleware.py", line 66, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/middleware.py", line 56, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/routes/standards.py", line 44, in list_standards
    standards = repo.list_standards(
                ^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/repositories/standards_repository.py", line 85, in list_standards
    cursor = conn.execute(base_query, tuple(params))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such column: standard_id
2025-11-13 10:35:40,525 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 10:35:40,527 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 10:35:40,529 - backend.api.main - ERROR - Unexpected error: no such column: standard_id
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 93, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 78, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 118, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/middleware.py", line 66, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/middleware.py", line 56, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/routes/standards.py", line 44, in list_standards
    standards = repo.list_standards(
                ^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/repositories/standards_repository.py", line 85, in list_standards
    cursor = conn.execute(base_query, tuple(params))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such column: standard_id
INFO:     127.0.0.1:49925 - "GET /api/standards?grade_level=0 HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 93, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 78, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 118, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/middleware.py", line 66, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/middleware.py", line 56, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/routes/standards.py", line 44, in list_standards
    standards = repo.list_standards(
                ^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/repositories/standards_repository.py", line 85, in list_standards
    cursor = conn.execute(base_query, tuple(params))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such column: standard_id
2025-11-13 10:35:41,143 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 10:35:41,144 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 10:35:41,147 - backend.api.main - ERROR - Unexpected error: no such column: standard_id
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 93, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 78, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 118, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/middleware.py", line 66, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/middleware.py", line 56, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/routes/standards.py", line 44, in list_standards
    standards = repo.list_standards(
                ^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/repositories/standards_repository.py", line 85, in list_standards
    cursor = conn.execute(base_query, tuple(params))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such column: standard_id
INFO:     127.0.0.1:49928 - "GET /api/standards?grade_level=1 HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 93, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 78, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 118, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/middleware.py", line 66, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/middleware.py", line 56, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/routes/standards.py", line 44, in list_standards
    standards = repo.list_standards(
                ^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/repositories/standards_repository.py", line 85, in list_standards
    cursor = conn.execute(base_query, tuple(params))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such column: standard_id
2025-11-13 10:35:41,527 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 10:35:41,528 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 10:35:41,531 - backend.api.main - ERROR - Unexpected error: no such column: standard_id
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 93, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 78, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 118, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/middleware.py", line 66, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/middleware.py", line 56, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/routes/standards.py", line 44, in list_standards
    standards = repo.list_standards(
                ^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/repositories/standards_repository.py", line 85, in list_standards
    cursor = conn.execute(base_query, tuple(params))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such column: standard_id
INFO:     127.0.0.1:49931 - "GET /api/standards?grade_level=1&strand_code=CR HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 93, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 78, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 118, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/middleware.py", line 66, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/middleware.py", line 56, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/routes/standards.py", line 44, in list_standards
    standards = repo.list_standards(
                ^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/repositories/standards_repository.py", line 85, in list_standards
    cursor = conn.execute(base_query, tuple(params))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such column: standard_id
2025-11-13 10:35:42,162 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 10:35:42,163 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 10:35:42,166 - backend.api.main - ERROR - Unexpected error: no such column: standard_id
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 93, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 78, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 118, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/middleware.py", line 66, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/middleware.py", line 56, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/routes/standards.py", line 44, in list_standards
    standards = repo.list_standards(
                ^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/repositories/standards_repository.py", line 85, in list_standards
    cursor = conn.execute(base_query, tuple(params))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such column: standard_id
INFO:     127.0.0.1:49934 - "GET /api/standards?grade_level=3&strand_code=CR HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 93, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 78, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 118, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/middleware.py", line 66, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/middleware.py", line 56, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/routes/standards.py", line 44, in list_standards
    standards = repo.list_standards(
                ^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/repositories/standards_repository.py", line 85, in list_standards
    cursor = conn.execute(base_query, tuple(params))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such column: standard_id
2025-11-13 10:35:42,595 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 10:35:42,596 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 10:35:42,599 - backend.api.main - ERROR - Unexpected error: no such column: standard_id
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 93, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 78, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 118, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/middleware.py", line 66, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/middleware.py", line 56, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/routes/standards.py", line 44, in list_standards
    standards = repo.list_standards(
                ^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/repositories/standards_repository.py", line 85, in list_standards
    cursor = conn.execute(base_query, tuple(params))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such column: standard_id
INFO:     127.0.0.1:49937 - "GET /api/standards?grade_level=3&strand_code=RE HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 93, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 78, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 118, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/middleware.py", line 66, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/middleware.py", line 56, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/routes/standards.py", line 44, in list_standards
    standards = repo.list_standards(
                ^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/repositories/standards_repository.py", line 85, in list_standards
    cursor = conn.execute(base_query, tuple(params))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such column: standard_id
2025-11-13 10:35:42,911 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 10:35:42,912 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 10:35:42,914 - backend.api.main - ERROR - Unexpected error: no such column: standard_id
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 93, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 78, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 118, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/middleware.py", line 66, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/middleware.py", line 56, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/routes/standards.py", line 44, in list_standards
    standards = repo.list_standards(
                ^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/repositories/standards_repository.py", line 85, in list_standards
    cursor = conn.execute(base_query, tuple(params))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such column: standard_id
INFO:     127.0.0.1:49940 - "GET /api/standards?grade_level=3&strand_code=PR HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 93, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 78, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 118, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/middleware.py", line 66, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/middleware.py", line 56, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/routes/standards.py", line 44, in list_standards
    standards = repo.list_standards(
                ^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/repositories/standards_repository.py", line 85, in list_standards
    cursor = conn.execute(base_query, tuple(params))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such column: standard_id
2025-11-13 10:35:43,608 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 10:35:43,610 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 10:35:43,613 - backend.api.main - ERROR - Unexpected error: no such column: standard_id
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 93, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 78, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 118, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/middleware.py", line 66, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/middleware.py", line 56, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/routes/standards.py", line 44, in list_standards
    standards = repo.list_standards(
                ^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/repositories/standards_repository.py", line 85, in list_standards
    cursor = conn.execute(base_query, tuple(params))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such column: standard_id
INFO:     127.0.0.1:49943 - "GET /api/standards?grade_level=5&strand_code=PR HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 93, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 78, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/anyio/streams/memory.py", line 118, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/middleware.py", line 66, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/middleware.py", line 56, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/opt/homebrew/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/api/routes/standards.py", line 44, in list_standards
    standards = repo.list_standards(
                ^^^^^^^^^^^^^^^^^^^^
  File "/Users/cnowlin/Developer/pocket_musec/backend/repositories/standards_repository.py", line 85, in list_standards
    cursor = conn.execute(base_query, tuple(params))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such column: standard_id
WARNING:  WatchFiles detected changes in 'backend/repositories/standards_repository.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-11-13 10:38:42,126 - backend.api.main - INFO - Shutting down PocketMusec API...
INFO:     Application shutdown complete.
INFO:     Finished server process [29472]
INFO:     Started server process [35608]
INFO:     Waiting for application startup.
2025-11-13 10:38:42,801 - backend.api.main - INFO - Starting PocketMusec API...
2025-11-13 10:38:42,801 - backend.repositories.migrations - INFO - Starting database migration...
2025-11-13 10:38:42,802 - backend.repositories.migrations - INFO - Database already at version 8, skipping standards migration
2025-11-13 10:38:42,802 - backend.repositories.migrations - INFO - Database already at version 8, skipping M3 migration
2025-11-13 10:38:42,802 - backend.repositories.migrations - INFO - Database already at version 8, skipping v4 migration
2025-11-13 10:38:42,802 - backend.repositories.migrations - INFO - Starting extended schema migration...
2025-11-13 10:38:42,803 - backend.repositories.migrations - INFO - Created unpacking document tables
2025-11-13 10:38:42,803 - backend.repositories.migrations - INFO - Created alignment document tables
2025-11-13 10:38:42,803 - backend.repositories.migrations - INFO - Created reference document tables
2025-11-13 10:38:42,803 - backend.repositories.migrations - INFO - Created extended table indexes
2025-11-13 10:38:42,803 - backend.repositories.migrations - INFO - Extended schema migration completed successfully
2025-11-13 10:38:42,803 - backend.repositories.migrations - INFO - Database already at version 8, skipping drafts migration
2025-11-13 10:38:42,803 - backend.repositories.migrations - INFO - Database already at version 8, skipping Kindergarten migration
2025-11-13 10:38:42,803 - backend.repositories.migrations - INFO - Database already at version 8, skipping file storage migration
2025-11-13 10:38:42,804 - backend.repositories.migrations - INFO - Database already at version 8, skipping file linking migration
2025-11-13 10:38:42,804 - backend.repositories.migrations - INFO - All migrations completed successfully
2025-11-13 10:38:42,804 - backend.api.main - INFO - Database migrations completed
2025-11-13 10:38:42,804 - backend.api.main - INFO - PocketMusec API started successfully
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'backend/repositories/standards_repository.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-11-13 10:38:52,398 - backend.api.main - INFO - Shutting down PocketMusec API...
INFO:     Application shutdown complete.
INFO:     Finished server process [35608]
INFO:     Started server process [35677]
INFO:     Waiting for application startup.
2025-11-13 10:38:53,020 - backend.api.main - INFO - Starting PocketMusec API...
2025-11-13 10:38:53,020 - backend.repositories.migrations - INFO - Starting database migration...
2025-11-13 10:38:53,020 - backend.repositories.migrations - INFO - Database already at version 8, skipping standards migration
2025-11-13 10:38:53,020 - backend.repositories.migrations - INFO - Database already at version 8, skipping M3 migration
2025-11-13 10:38:53,021 - backend.repositories.migrations - INFO - Database already at version 8, skipping v4 migration
2025-11-13 10:38:53,021 - backend.repositories.migrations - INFO - Starting extended schema migration...
2025-11-13 10:38:53,021 - backend.repositories.migrations - INFO - Created unpacking document tables
2025-11-13 10:38:53,021 - backend.repositories.migrations - INFO - Created alignment document tables
2025-11-13 10:38:53,021 - backend.repositories.migrations - INFO - Created reference document tables
2025-11-13 10:38:53,021 - backend.repositories.migrations - INFO - Created extended table indexes
2025-11-13 10:38:53,021 - backend.repositories.migrations - INFO - Extended schema migration completed successfully
2025-11-13 10:38:53,021 - backend.repositories.migrations - INFO - Database already at version 8, skipping drafts migration
2025-11-13 10:38:53,022 - backend.repositories.migrations - INFO - Database already at version 8, skipping Kindergarten migration
2025-11-13 10:38:53,022 - backend.repositories.migrations - INFO - Database already at version 8, skipping file storage migration
2025-11-13 10:38:53,022 - backend.repositories.migrations - INFO - Database already at version 8, skipping file linking migration
2025-11-13 10:38:53,022 - backend.repositories.migrations - INFO - All migrations completed successfully
2025-11-13 10:38:53,022 - backend.api.main - INFO - Database migrations completed
2025-11-13 10:38:53,022 - backend.api.main - INFO - PocketMusec API started successfully
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'backend/repositories/standards_repository.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-11-13 10:39:05,040 - backend.api.main - INFO - Shutting down PocketMusec API...
INFO:     Application shutdown complete.
INFO:     Finished server process [35677]
INFO:     Started server process [35784]
INFO:     Waiting for application startup.
2025-11-13 10:39:05,661 - backend.api.main - INFO - Starting PocketMusec API...
2025-11-13 10:39:05,661 - backend.repositories.migrations - INFO - Starting database migration...
2025-11-13 10:39:05,661 - backend.repositories.migrations - INFO - Database already at version 8, skipping standards migration
2025-11-13 10:39:05,662 - backend.repositories.migrations - INFO - Database already at version 8, skipping M3 migration
2025-11-13 10:39:05,662 - backend.repositories.migrations - INFO - Database already at version 8, skipping v4 migration
2025-11-13 10:39:05,662 - backend.repositories.migrations - INFO - Starting extended schema migration...
2025-11-13 10:39:05,662 - backend.repositories.migrations - INFO - Created unpacking document tables
2025-11-13 10:39:05,662 - backend.repositories.migrations - INFO - Created alignment document tables
2025-11-13 10:39:05,662 - backend.repositories.migrations - INFO - Created reference document tables
2025-11-13 10:39:05,662 - backend.repositories.migrations - INFO - Created extended table indexes
2025-11-13 10:39:05,662 - backend.repositories.migrations - INFO - Extended schema migration completed successfully
2025-11-13 10:39:05,663 - backend.repositories.migrations - INFO - Database already at version 8, skipping drafts migration
2025-11-13 10:39:05,663 - backend.repositories.migrations - INFO - Database already at version 8, skipping Kindergarten migration
2025-11-13 10:39:05,663 - backend.repositories.migrations - INFO - Database already at version 8, skipping file storage migration
2025-11-13 10:39:05,663 - backend.repositories.migrations - INFO - Database already at version 8, skipping file linking migration
2025-11-13 10:39:05,663 - backend.repositories.migrations - INFO - All migrations completed successfully
2025-11-13 10:39:05,663 - backend.api.main - INFO - Database migrations completed
2025-11-13 10:39:05,663 - backend.api.main - INFO - PocketMusec API started successfully
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'backend/repositories/standards_repository.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-11-13 10:39:19,097 - backend.api.main - INFO - Shutting down PocketMusec API...
INFO:     Application shutdown complete.
INFO:     Finished server process [35784]
WARNING:  WatchFiles detected changes in 'backend/repositories/standards_repository.py'. Reloading...
INFO:     Started server process [35945]
INFO:     Waiting for application startup.
2025-11-13 10:39:20,081 - backend.api.main - INFO - Starting PocketMusec API...
2025-11-13 10:39:20,081 - backend.repositories.migrations - INFO - Starting database migration...
2025-11-13 10:39:20,082 - backend.repositories.migrations - INFO - Database already at version 8, skipping standards migration
2025-11-13 10:39:20,082 - backend.repositories.migrations - INFO - Database already at version 8, skipping M3 migration
2025-11-13 10:39:20,082 - backend.repositories.migrations - INFO - Database already at version 8, skipping v4 migration
2025-11-13 10:39:20,082 - backend.repositories.migrations - INFO - Starting extended schema migration...
2025-11-13 10:39:20,082 - backend.repositories.migrations - INFO - Created unpacking document tables
2025-11-13 10:39:20,082 - backend.repositories.migrations - INFO - Created alignment document tables
2025-11-13 10:39:20,083 - backend.repositories.migrations - INFO - Created reference document tables
2025-11-13 10:39:20,083 - backend.repositories.migrations - INFO - Created extended table indexes
2025-11-13 10:39:20,083 - backend.repositories.migrations - INFO - Extended schema migration completed successfully
2025-11-13 10:39:20,083 - backend.repositories.migrations - INFO - Database already at version 8, skipping drafts migration
2025-11-13 10:39:20,083 - backend.repositories.migrations - INFO - Database already at version 8, skipping Kindergarten migration
2025-11-13 10:39:20,083 - backend.repositories.migrations - INFO - Database already at version 8, skipping file storage migration
2025-11-13 10:39:20,084 - backend.repositories.migrations - INFO - Database already at version 8, skipping file linking migration
2025-11-13 10:39:20,084 - backend.repositories.migrations - INFO - All migrations completed successfully
2025-11-13 10:39:20,084 - backend.api.main - INFO - Database migrations completed
2025-11-13 10:39:20,084 - backend.api.main - INFO - PocketMusec API started successfully
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'backend/repositories/standards_repository.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-11-13 10:39:34,424 - backend.api.main - INFO - Shutting down PocketMusec API...
INFO:     Application shutdown complete.
INFO:     Finished server process [35945]
INFO:     Started server process [36051]
INFO:     Waiting for application startup.
2025-11-13 10:39:35,058 - backend.api.main - INFO - Starting PocketMusec API...
2025-11-13 10:39:35,059 - backend.repositories.migrations - INFO - Starting database migration...
2025-11-13 10:39:35,059 - backend.repositories.migrations - INFO - Database already at version 8, skipping standards migration
2025-11-13 10:39:35,059 - backend.repositories.migrations - INFO - Database already at version 8, skipping M3 migration
2025-11-13 10:39:35,060 - backend.repositories.migrations - INFO - Database already at version 8, skipping v4 migration
2025-11-13 10:39:35,060 - backend.repositories.migrations - INFO - Starting extended schema migration...
2025-11-13 10:39:35,060 - backend.repositories.migrations - INFO - Created unpacking document tables
2025-11-13 10:39:35,060 - backend.repositories.migrations - INFO - Created alignment document tables
2025-11-13 10:39:35,060 - backend.repositories.migrations - INFO - Created reference document tables
2025-11-13 10:39:35,060 - backend.repositories.migrations - INFO - Created extended table indexes
2025-11-13 10:39:35,060 - backend.repositories.migrations - INFO - Extended schema migration completed successfully
2025-11-13 10:39:35,060 - backend.repositories.migrations - INFO - Database already at version 8, skipping drafts migration
2025-11-13 10:39:35,060 - backend.repositories.migrations - INFO - Database already at version 8, skipping Kindergarten migration
2025-11-13 10:39:35,061 - backend.repositories.migrations - INFO - Database already at version 8, skipping file storage migration
2025-11-13 10:39:35,061 - backend.repositories.migrations - INFO - Database already at version 8, skipping file linking migration
2025-11-13 10:39:35,061 - backend.repositories.migrations - INFO - All migrations completed successfully
2025-11-13 10:39:35,061 - backend.api.main - INFO - Database migrations completed
2025-11-13 10:39:35,061 - backend.api.main - INFO - PocketMusec API started successfully
INFO:     Application startup complete.
2025-11-13 10:40:12,510 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 10:40:12,510 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 10:40:12,512 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 10:40:12,512 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:50249 - "GET /api/sessions HTTP/1.1" 200 OK
2025-11-13 10:40:12,513 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 10:40:12,514 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:50252 - "GET /api/images HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:50256 - "GET /api/drafts HTTP/1.1" 200 OK
INFO:     127.0.0.1:50257 - "GET /api/standards?grade_level=5&strand_code=PRESENT HTTP/1.1" 200 OK
INFO:     127.0.0.1:50250 - "POST /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:50255 - "GET /api/images/storage/info HTTP/1.1" 200 OK
INFO:     127.0.0.1:50259 - "GET /api/images/ HTTP/1.1" 200 OK
2025-11-13 10:40:12,520 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 10:40:12,520 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:50262 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'backend/utils/standards.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-11-13 10:40:23,957 - backend.api.main - INFO - Shutting down PocketMusec API...
INFO:     Application shutdown complete.
INFO:     Finished server process [36051]
INFO:     Started server process [36556]
INFO:     Waiting for application startup.
2025-11-13 10:40:24,586 - backend.api.main - INFO - Starting PocketMusec API...
2025-11-13 10:40:24,586 - backend.repositories.migrations - INFO - Starting database migration...
2025-11-13 10:40:24,587 - backend.repositories.migrations - INFO - Database already at version 8, skipping standards migration
2025-11-13 10:40:24,587 - backend.repositories.migrations - INFO - Database already at version 8, skipping M3 migration
2025-11-13 10:40:24,587 - backend.repositories.migrations - INFO - Database already at version 8, skipping v4 migration
2025-11-13 10:40:24,587 - backend.repositories.migrations - INFO - Starting extended schema migration...
2025-11-13 10:40:24,587 - backend.repositories.migrations - INFO - Created unpacking document tables
2025-11-13 10:40:24,587 - backend.repositories.migrations - INFO - Created alignment document tables
2025-11-13 10:40:24,587 - backend.repositories.migrations - INFO - Created reference document tables
2025-11-13 10:40:24,587 - backend.repositories.migrations - INFO - Created extended table indexes
2025-11-13 10:40:24,587 - backend.repositories.migrations - INFO - Extended schema migration completed successfully
2025-11-13 10:40:24,588 - backend.repositories.migrations - INFO - Database already at version 8, skipping drafts migration
2025-11-13 10:40:24,588 - backend.repositories.migrations - INFO - Database already at version 8, skipping Kindergarten migration
2025-11-13 10:40:24,588 - backend.repositories.migrations - INFO - Database already at version 8, skipping file storage migration
2025-11-13 10:40:24,588 - backend.repositories.migrations - INFO - Database already at version 8, skipping file linking migration
2025-11-13 10:40:24,588 - backend.repositories.migrations - INFO - All migrations completed successfully
2025-11-13 10:40:24,588 - backend.api.main - INFO - Database migrations completed
2025-11-13 10:40:24,588 - backend.api.main - INFO - PocketMusec API started successfully
INFO:     Application startup complete.
2025-11-13 10:42:42,649 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 10:42:42,649 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 10:42:42,651 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 10:42:42,651 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 10:42:42,652 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 10:42:42,653 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:50506 - "GET /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:50507 - "GET /api/images HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:50509 - "GET /api/drafts HTTP/1.1" 200 OK
INFO:     127.0.0.1:50510 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
INFO:     127.0.0.1:50505 - "POST /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:50508 - "GET /api/images/storage/info HTTP/1.1" 200 OK
2025-11-13 10:42:42,658 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 10:42:42,659 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 10:42:42,661 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 10:42:42,662 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 10:42:42,663 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 10:42:42,663 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:50515 - "POST /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:50519 - "GET /api/images/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:50522 - "GET /api/images HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:50525 - "GET /api/drafts HTTP/1.1" 200 OK
INFO:     127.0.0.1:50526 - "GET /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:50529 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
INFO:     127.0.0.1:50530 - "GET /api/images/storage/info HTTP/1.1" 200 OK
2025-11-13 10:42:42,667 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 10:42:42,667 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:50533 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 10:42:42,670 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 10:42:42,670 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:50519 - "GET /api/images/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:50536 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 10:42:45,453 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 10:42:45,455 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:50539 - "GET /api/standards?strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 10:42:50,671 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 10:42:50,673 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:50542 - "GET /api/standards?grade_level=0&strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 10:42:51,719 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 10:42:51,720 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:50545 - "GET /api/standards?grade_level=1&strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 10:42:52,203 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 10:42:52,205 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:50548 - "GET /api/standards?grade_level=2&strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 10:42:52,712 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 10:42:52,714 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:50551 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 10:42:53,137 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 10:42:53,140 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:50554 - "GET /api/standards?grade_level=4&strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 10:42:53,510 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 10:42:53,512 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:50557 - "GET /api/standards?grade_level=5&strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 10:42:54,604 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 10:42:54,605 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:50560 - "GET /api/standards?grade_level=5 HTTP/1.1" 200 OK
2025-11-13 10:42:55,920 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 10:42:55,922 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:50563 - "GET /api/standards HTTP/1.1" 200 OK
2025-11-13 10:42:56,546 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 10:42:56,548 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:50566 - "GET /api/standards?grade_level=0 HTTP/1.1" 200 OK
2025-11-13 10:42:57,150 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 10:42:57,151 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:50569 - "GET /api/standards?grade_level=1 HTTP/1.1" 200 OK
2025-11-13 10:42:57,662 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 10:42:57,663 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:50572 - "GET /api/standards?grade_level=1&strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 10:42:58,571 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 10:42:58,573 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:50575 - "GET /api/standards?grade_level=1&strand_code=CREATE HTTP/1.1" 200 OK
2025-11-13 10:42:59,042 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 10:42:59,043 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:50578 - "GET /api/standards?grade_level=1&strand_code=RESPOND HTTP/1.1" 200 OK
2025-11-13 10:42:59,527 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 10:42:59,529 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:50581 - "GET /api/standards?grade_level=1&strand_code=PRESENT HTTP/1.1" 200 OK
2025-11-13 10:43:00,504 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 10:43:00,505 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:50584 - "GET /api/standards?grade_level=3&strand_code=PRESENT HTTP/1.1" 200 OK
2025-11-13 10:43:00,992 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 10:43:00,993 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:50587 - "GET /api/standards?grade_level=2&strand_code=PRESENT HTTP/1.1" 200 OK
2025-11-13 10:43:01,360 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 10:43:01,361 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:50590 - "GET /api/standards?grade_level=1&strand_code=PRESENT HTTP/1.1" 200 OK
2025-11-13 10:43:01,737 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 10:43:01,739 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:50593 - "GET /api/standards?grade_level=0&strand_code=PRESENT HTTP/1.1" 200 OK
2025-11-13 10:43:02,335 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 10:43:02,337 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:50596 - "GET /api/standards?strand_code=PRESENT HTTP/1.1" 200 OK
2025-11-13 10:43:03,935 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 10:43:03,936 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:50599 - "GET /api/standards HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'backend/pocketflow/lesson_agent.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-11-13 10:55:41,474 - backend.api.main - INFO - Shutting down PocketMusec API...
INFO:     Application shutdown complete.
INFO:     Finished server process [36556]
INFO:     Started server process [41488]
INFO:     Waiting for application startup.
2025-11-13 10:55:42,120 - backend.api.main - INFO - Starting PocketMusec API...
2025-11-13 10:55:42,120 - backend.repositories.migrations - INFO - Starting database migration...
2025-11-13 10:55:42,120 - backend.repositories.migrations - INFO - Database already at version 8, skipping standards migration
2025-11-13 10:55:42,120 - backend.repositories.migrations - INFO - Database already at version 8, skipping M3 migration
2025-11-13 10:55:42,121 - backend.repositories.migrations - INFO - Database already at version 8, skipping v4 migration
2025-11-13 10:55:42,121 - backend.repositories.migrations - INFO - Starting extended schema migration...
2025-11-13 10:55:42,121 - backend.repositories.migrations - INFO - Created unpacking document tables
2025-11-13 10:55:42,121 - backend.repositories.migrations - INFO - Created alignment document tables
2025-11-13 10:55:42,121 - backend.repositories.migrations - INFO - Created reference document tables
2025-11-13 10:55:42,121 - backend.repositories.migrations - INFO - Created extended table indexes
2025-11-13 10:55:42,121 - backend.repositories.migrations - INFO - Extended schema migration completed successfully
2025-11-13 10:55:42,121 - backend.repositories.migrations - INFO - Database already at version 8, skipping drafts migration
2025-11-13 10:55:42,121 - backend.repositories.migrations - INFO - Database already at version 8, skipping Kindergarten migration
2025-11-13 10:55:42,122 - backend.repositories.migrations - INFO - Database already at version 8, skipping file storage migration
2025-11-13 10:55:42,122 - backend.repositories.migrations - INFO - Database already at version 8, skipping file linking migration
2025-11-13 10:55:42,122 - backend.repositories.migrations - INFO - All migrations completed successfully
2025-11-13 10:55:42,122 - backend.api.main - INFO - Database migrations completed
2025-11-13 10:55:42,122 - backend.api.main - INFO - PocketMusec API started successfully
INFO:     Application startup complete.
2025-11-13 11:40:47,922 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:40:47,922 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:50932 - "GET /api/standards?grade_level=0 HTTP/1.1" 200 OK
2025-11-13 11:40:48,795 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:40:48,796 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:50935 - "GET /api/standards?grade_level=1 HTTP/1.1" 200 OK
2025-11-13 11:40:49,235 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:40:49,237 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:50938 - "GET /api/standards?grade_level=1&strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 11:40:49,660 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:40:49,662 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:50941 - "GET /api/standards?grade_level=1&strand_code=CREATE HTTP/1.1" 200 OK
2025-11-13 11:40:50,068 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:40:50,069 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:50944 - "GET /api/standards?grade_level=1&strand_code=RESPOND HTTP/1.1" 200 OK
2025-11-13 11:40:50,665 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:40:50,667 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:50947 - "GET /api/standards?grade_level=1&strand_code=PRESENT HTTP/1.1" 200 OK
2025-11-13 11:40:51,432 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:40:51,434 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:50950 - "GET /api/standards?strand_code=PRESENT HTTP/1.1" 200 OK
2025-11-13 11:40:52,033 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:40:52,035 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:50953 - "GET /api/standards HTTP/1.1" 200 OK
2025-11-13 11:44:01,356 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:44:01,357 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 11:44:01,364 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:44:01,365 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 11:44:01,367 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:44:01,368 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:50973 - "GET /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:50974 - "GET /api/images HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:50976 - "GET /api/drafts HTTP/1.1" 200 OK
INFO:     127.0.0.1:50977 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
INFO:     127.0.0.1:50972 - "POST /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:50975 - "GET /api/images/storage/info HTTP/1.1" 200 OK
2025-11-13 11:44:01,381 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:44:01,382 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 11:44:01,383 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:44:01,383 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 11:44:01,384 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:44:01,384 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:50987 - "GET /api/images HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:50990 - "GET /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:50991 - "GET /api/drafts HTTP/1.1" 200 OK
INFO:     127.0.0.1:50993 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
INFO:     127.0.0.1:50986 - "POST /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:50997 - "GET /api/images/ HTTP/1.1" 200 OK
2025-11-13 11:44:01,389 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:44:01,390 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:50995 - "GET /api/images/storage/info HTTP/1.1" 200 OK
INFO:     127.0.0.1:51000 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
INFO:     127.0.0.1:50997 - "GET /api/images/ HTTP/1.1" 200 OK
2025-11-13 11:44:01,396 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:44:01,397 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51005 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 11:44:03,663 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:44:03,664 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51008 - "GET /api/standards?grade_level=0&strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 11:44:04,251 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:44:04,252 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51011 - "GET /api/standards?strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 11:44:04,879 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:44:04,881 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51014 - "GET /api/standards?grade_level=1&strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 11:44:05,654 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:44:05,655 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51017 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 11:44:08,363 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:44:08,364 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51020 - "GET /api/standards?grade_level=3&strand_code=RESPOND HTTP/1.1" 200 OK
2025-11-13 11:44:17,216 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:44:17,217 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51036 - "GET /api/sessions HTTP/1.1" 200 OK
2025-11-13 11:44:17,220 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:44:17,221 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51038 - "GET /api/images HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:51040 - "GET /api/drafts HTTP/1.1" 200 OK
INFO:     127.0.0.1:51037 - "POST /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:51039 - "GET /api/images/storage/info HTTP/1.1" 200 OK
2025-11-13 11:44:17,244 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:44:17,245 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 11:44:17,248 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:44:17,248 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 11:44:17,251 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:44:17,251 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51049 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
INFO:     127.0.0.1:51002 - "GET /api/images/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:51052 - "GET /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:51055 - "GET /api/drafts HTTP/1.1" 200 OK
INFO:     127.0.0.1:51056 - "GET /api/images HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:51050 - "POST /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:51002 - "GET /api/images/ HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'backend/api/middleware.py', 'backend/api/dependencies.py'. Reloading...
INFO:     127.0.0.1:51059 - "GET /api/images/storage/info HTTP/1.1" 200 OK
2025-11-13 11:44:17,297 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:44:17,297 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51061 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-11-13 11:44:17,413 - backend.api.main - INFO - Shutting down PocketMusec API...
INFO:     Application shutdown complete.
INFO:     Finished server process [41488]
INFO:     Started server process [44752]
INFO:     Waiting for application startup.
2025-11-13 11:44:18,130 - backend.api.main - INFO - Starting PocketMusec API...
2025-11-13 11:44:18,130 - backend.repositories.migrations - INFO - Starting database migration...
2025-11-13 11:44:18,131 - backend.repositories.migrations - INFO - Database already at version 8, skipping standards migration
2025-11-13 11:44:18,131 - backend.repositories.migrations - INFO - Database already at version 8, skipping M3 migration
2025-11-13 11:44:18,132 - backend.repositories.migrations - INFO - Database already at version 8, skipping v4 migration
2025-11-13 11:44:18,132 - backend.repositories.migrations - INFO - Starting extended schema migration...
2025-11-13 11:44:18,132 - backend.repositories.migrations - INFO - Created unpacking document tables
2025-11-13 11:44:18,132 - backend.repositories.migrations - INFO - Created alignment document tables
2025-11-13 11:44:18,132 - backend.repositories.migrations - INFO - Created reference document tables
2025-11-13 11:44:18,132 - backend.repositories.migrations - INFO - Created extended table indexes
2025-11-13 11:44:18,132 - backend.repositories.migrations - INFO - Extended schema migration completed successfully
2025-11-13 11:44:18,132 - backend.repositories.migrations - INFO - Database already at version 8, skipping drafts migration
2025-11-13 11:44:18,133 - backend.repositories.migrations - INFO - Database already at version 8, skipping Kindergarten migration
2025-11-13 11:44:18,133 - backend.repositories.migrations - INFO - Database already at version 8, skipping file storage migration
2025-11-13 11:44:18,133 - backend.repositories.migrations - INFO - Database already at version 8, skipping file linking migration
2025-11-13 11:44:18,133 - backend.repositories.migrations - INFO - All migrations completed successfully
2025-11-13 11:44:18,133 - backend.api.main - INFO - Database migrations completed
2025-11-13 11:44:18,133 - backend.api.main - INFO - PocketMusec API started successfully
INFO:     Application startup complete.
2025-11-13 11:44:18,153 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:44:18,153 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 11:44:18,155 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:44:18,155 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51066 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 11:44:18,157 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:44:18,157 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51074 - "GET /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:51078 - "GET /api/images HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:51080 - "GET /api/drafts HTTP/1.1" 200 OK
INFO:     127.0.0.1:51073 - "POST /api/sessions HTTP/1.1" 200 OK
2025-11-13 11:44:18,161 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:44:18,161 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51079 - "GET /api/images/storage/info HTTP/1.1" 200 OK
INFO:     127.0.0.1:51084 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
INFO:     127.0.0.1:51086 - "GET /api/images/ HTTP/1.1" 200 OK
2025-11-13 11:44:18,165 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:44:18,165 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51089 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 11:44:18,169 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:44:18,169 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51092 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 11:44:21,027 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:44:21,027 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 11:44:21,030 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:44:21,031 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 11:44:21,033 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:44:21,034 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51174 - "GET /api/images HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:51175 - "GET /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:51179 - "GET /api/drafts HTTP/1.1" 200 OK
INFO:     127.0.0.1:51171 - "POST /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:51181 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
INFO:     127.0.0.1:51180 - "GET /api/images/storage/info HTTP/1.1" 200 OK
2025-11-13 11:44:21,045 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:44:21,045 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51086 - "GET /api/images/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:51184 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 11:44:21,064 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:44:21,064 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 11:44:21,066 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:44:21,067 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51195 - "GET /api/sessions HTTP/1.1" 200 OK
2025-11-13 11:44:21,068 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:44:21,069 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51198 - "GET /api/images HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:51202 - "GET /api/drafts HTTP/1.1" 200 OK
INFO:     127.0.0.1:51203 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
INFO:     127.0.0.1:51196 - "POST /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:51201 - "GET /api/images/storage/info HTTP/1.1" 200 OK
2025-11-13 11:44:21,080 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:44:21,080 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51086 - "GET /api/images/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:51206 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 11:44:32,674 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:44:32,674 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51291 - "GET /api/ingestion/files?limit=10&offset=0 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51293 - "GET /api/standards HTTP/1.1" 200 OK
INFO:     127.0.0.1:51295 - "GET /api/ingestion/files/stats HTTP/1.1" 404 Not Found
2025-11-13 11:44:32,695 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:44:32,696 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51298 - "GET /api/ingestion/files/stats HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:51299 - "GET /api/ingestion/files?limit=10&offset=0 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51301 - "GET /api/standards HTTP/1.1" 200 OK
INFO:     127.0.0.1:51304 - "GET /api/ingestion/files?limit=10&offset=0 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51307 - "GET /api/ingestion/files?limit=10&offset=0 HTTP/1.1" 200 OK
2025-11-13 11:44:49,084 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:44:49,085 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51326 - "GET /api/ingestion/files?limit=10&offset=0 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51328 - "GET /api/ingestion/files/stats HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:51329 - "GET /api/standards HTTP/1.1" 200 OK
2025-11-13 11:44:49,117 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:44:49,118 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51332 - "GET /api/ingestion/files?limit=10&offset=0 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51335 - "GET /api/ingestion/files/stats HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:51337 - "GET /api/standards HTTP/1.1" 200 OK
INFO:     127.0.0.1:51340 - "GET /api/ingestion/files?limit=10&offset=0 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51343 - "GET /api/ingestion/files?limit=10&offset=0 HTTP/1.1" 200 OK
2025-11-13 11:44:59,033 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:44:59,034 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51352 - "GET /api/standards?grade_level=1 HTTP/1.1" 200 OK
2025-11-13 11:45:16,590 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:45:16,591 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 11:45:16,595 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:45:16,596 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 11:45:16,601 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:45:16,601 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51364 - "GET /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:51367 - "GET /api/images HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:51362 - "POST /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:51371 - "GET /api/drafts HTTP/1.1" 200 OK
INFO:     127.0.0.1:51372 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
INFO:     127.0.0.1:51368 - "GET /api/images/storage/info HTTP/1.1" 200 OK
2025-11-13 11:45:16,613 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:45:16,613 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 11:45:16,614 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:45:16,614 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 11:45:16,616 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:45:16,616 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51380 - "GET /api/images HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:51376 - "GET /api/images/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:51386 - "GET /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:51378 - "POST /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:51388 - "GET /api/drafts HTTP/1.1" 200 OK
INFO:     127.0.0.1:51389 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 11:45:16,621 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:45:16,622 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51392 - "GET /api/images/storage/info HTTP/1.1" 200 OK
INFO:     127.0.0.1:51395 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
INFO:     127.0.0.1:51376 - "GET /api/images/ HTTP/1.1" 200 OK
2025-11-13 11:45:16,625 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:45:16,625 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51398 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 11:45:19,922 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:45:19,923 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51402 - "GET /api/standards?strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 11:45:20,762 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:45:20,764 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51406 - "GET /api/standards?grade_level=0&strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 11:45:21,447 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:45:21,450 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51410 - "GET /api/standards?grade_level=1&strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 11:45:22,178 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:45:22,180 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51413 - "GET /api/standards?grade_level=4&strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 11:45:22,816 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:45:22,817 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51416 - "GET /api/standards?grade_level=4&strand_code=CREATE HTTP/1.1" 200 OK
2025-11-13 11:45:23,303 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:45:23,304 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51419 - "GET /api/standards?grade_level=4&strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 11:45:24,018 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:45:24,019 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51422 - "GET /api/standards?strand_code=CONNECT HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'backend/repositories/standards_repository.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-11-13 11:47:17,838 - backend.api.main - INFO - Shutting down PocketMusec API...
INFO:     Application shutdown complete.
INFO:     Finished server process [44752]
INFO:     Started server process [48555]
INFO:     Waiting for application startup.
2025-11-13 11:47:18,588 - backend.api.main - INFO - Starting PocketMusec API...
2025-11-13 11:47:18,588 - backend.repositories.migrations - INFO - Starting database migration...
2025-11-13 11:47:18,588 - backend.repositories.migrations - INFO - Database already at version 8, skipping standards migration
2025-11-13 11:47:18,589 - backend.repositories.migrations - INFO - Database already at version 8, skipping M3 migration
2025-11-13 11:47:18,589 - backend.repositories.migrations - INFO - Database already at version 8, skipping v4 migration
2025-11-13 11:47:18,589 - backend.repositories.migrations - INFO - Starting extended schema migration...
2025-11-13 11:47:18,589 - backend.repositories.migrations - INFO - Created unpacking document tables
2025-11-13 11:47:18,589 - backend.repositories.migrations - INFO - Created alignment document tables
2025-11-13 11:47:18,589 - backend.repositories.migrations - INFO - Created reference document tables
2025-11-13 11:47:18,589 - backend.repositories.migrations - INFO - Created extended table indexes
2025-11-13 11:47:18,589 - backend.repositories.migrations - INFO - Extended schema migration completed successfully
2025-11-13 11:47:18,590 - backend.repositories.migrations - INFO - Database already at version 8, skipping drafts migration
2025-11-13 11:47:18,590 - backend.repositories.migrations - INFO - Database already at version 8, skipping Kindergarten migration
2025-11-13 11:47:18,590 - backend.repositories.migrations - INFO - Database already at version 8, skipping file storage migration
2025-11-13 11:47:18,590 - backend.repositories.migrations - INFO - Database already at version 8, skipping file linking migration
2025-11-13 11:47:18,590 - backend.repositories.migrations - INFO - All migrations completed successfully
2025-11-13 11:47:18,590 - backend.api.main - INFO - Database migrations completed
2025-11-13 11:47:18,590 - backend.api.main - INFO - PocketMusec API started successfully
INFO:     Application startup complete.
2025-11-13 11:47:24,511 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:47:24,511 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51478 - "GET /api/standards?grade_level=0&strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 11:47:38,413 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:47:38,413 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 11:47:38,415 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:47:38,415 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51496 - "POST /api/sessions HTTP/1.1" 200 OK
2025-11-13 11:47:38,417 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:47:38,418 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51499 - "GET /api/images HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:51500 - "GET /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:51504 - "GET /api/drafts HTTP/1.1" 200 OK
INFO:     127.0.0.1:51506 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
INFO:     127.0.0.1:51502 - "GET /api/images/storage/info HTTP/1.1" 200 OK
2025-11-13 11:47:38,423 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:47:38,423 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51513 - "GET /api/images HTTP/1.1" 307 Temporary Redirect
2025-11-13 11:47:38,425 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:47:38,425 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 11:47:38,426 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:47:38,426 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51511 - "POST /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:51519 - "GET /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:51520 - "GET /api/drafts HTTP/1.1" 200 OK
INFO:     127.0.0.1:51522 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
INFO:     127.0.0.1:51524 - "GET /api/images/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:51526 - "GET /api/images/storage/info HTTP/1.1" 200 OK
2025-11-13 11:47:38,431 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:47:38,431 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51531 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
INFO:     127.0.0.1:51524 - "GET /api/images/ HTTP/1.1" 200 OK
2025-11-13 11:47:38,435 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:47:38,435 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51534 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 11:47:40,893 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:47:40,894 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51537 - "GET /api/standards?grade_level=0&strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 11:47:42,411 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:47:42,412 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51540 - "GET /api/standards?grade_level=0&strand_code=CREATE HTTP/1.1" 200 OK
2025-11-13 11:47:43,249 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:47:43,250 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51543 - "GET /api/standards?grade_level=0&strand_code=RESPOND HTTP/1.1" 200 OK
2025-11-13 11:47:44,164 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:47:44,164 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51546 - "GET /api/standards?grade_level=0&strand_code=PRESENT HTTP/1.1" 200 OK
2025-11-13 11:47:45,350 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:47:45,352 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51549 - "GET /api/standards?grade_level=0 HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'backend/repositories/standards_repository.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-11-13 11:47:55,555 - backend.api.main - INFO - Shutting down PocketMusec API...
INFO:     Application shutdown complete.
INFO:     Finished server process [48555]
INFO:     Started server process [48629]
INFO:     Waiting for application startup.
2025-11-13 11:47:56,191 - backend.api.main - INFO - Starting PocketMusec API...
2025-11-13 11:47:56,192 - backend.repositories.migrations - INFO - Starting database migration...
2025-11-13 11:47:56,192 - backend.repositories.migrations - INFO - Database already at version 8, skipping standards migration
2025-11-13 11:47:56,192 - backend.repositories.migrations - INFO - Database already at version 8, skipping M3 migration
2025-11-13 11:47:56,192 - backend.repositories.migrations - INFO - Database already at version 8, skipping v4 migration
2025-11-13 11:47:56,192 - backend.repositories.migrations - INFO - Starting extended schema migration...
2025-11-13 11:47:56,193 - backend.repositories.migrations - INFO - Created unpacking document tables
2025-11-13 11:47:56,193 - backend.repositories.migrations - INFO - Created alignment document tables
2025-11-13 11:47:56,193 - backend.repositories.migrations - INFO - Created reference document tables
2025-11-13 11:47:56,193 - backend.repositories.migrations - INFO - Created extended table indexes
2025-11-13 11:47:56,193 - backend.repositories.migrations - INFO - Extended schema migration completed successfully
2025-11-13 11:47:56,193 - backend.repositories.migrations - INFO - Database already at version 8, skipping drafts migration
2025-11-13 11:47:56,193 - backend.repositories.migrations - INFO - Database already at version 8, skipping Kindergarten migration
2025-11-13 11:47:56,194 - backend.repositories.migrations - INFO - Database already at version 8, skipping file storage migration
2025-11-13 11:47:56,194 - backend.repositories.migrations - INFO - Database already at version 8, skipping file linking migration
2025-11-13 11:47:56,194 - backend.repositories.migrations - INFO - All migrations completed successfully
2025-11-13 11:47:56,194 - backend.api.main - INFO - Database migrations completed
2025-11-13 11:47:56,194 - backend.api.main - INFO - PocketMusec API started successfully
INFO:     Application startup complete.
2025-11-13 11:47:59,313 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:47:59,313 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51558 - "GET /api/standards?grade_level=1 HTTP/1.1" 200 OK
2025-11-13 11:48:00,515 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:48:00,517 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51561 - "GET /api/standards?grade_level=2 HTTP/1.1" 200 OK
2025-11-13 11:48:01,369 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:48:01,370 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51565 - "GET /api/standards?grade_level=2&strand_code=CREATE HTTP/1.1" 200 OK
2025-11-13 11:48:01,949 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:48:01,950 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51568 - "GET /api/standards?grade_level=2&strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 11:48:02,703 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:48:02,704 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51571 - "GET /api/standards?grade_level=2 HTTP/1.1" 200 OK
2025-11-13 11:48:03,453 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:48:03,454 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51574 - "GET /api/standards?grade_level=0 HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'backend/repositories/standards_repository.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-11-13 11:48:08,621 - backend.api.main - INFO - Shutting down PocketMusec API...
INFO:     Application shutdown complete.
INFO:     Finished server process [48629]
INFO:     Started server process [48640]
INFO:     Waiting for application startup.
2025-11-13 11:48:09,243 - backend.api.main - INFO - Starting PocketMusec API...
2025-11-13 11:48:09,243 - backend.repositories.migrations - INFO - Starting database migration...
2025-11-13 11:48:09,243 - backend.repositories.migrations - INFO - Database already at version 8, skipping standards migration
2025-11-13 11:48:09,243 - backend.repositories.migrations - INFO - Database already at version 8, skipping M3 migration
2025-11-13 11:48:09,243 - backend.repositories.migrations - INFO - Database already at version 8, skipping v4 migration
2025-11-13 11:48:09,243 - backend.repositories.migrations - INFO - Starting extended schema migration...
2025-11-13 11:48:09,244 - backend.repositories.migrations - INFO - Created unpacking document tables
2025-11-13 11:48:09,244 - backend.repositories.migrations - INFO - Created alignment document tables
2025-11-13 11:48:09,244 - backend.repositories.migrations - INFO - Created reference document tables
2025-11-13 11:48:09,244 - backend.repositories.migrations - INFO - Created extended table indexes
2025-11-13 11:48:09,244 - backend.repositories.migrations - INFO - Extended schema migration completed successfully
2025-11-13 11:48:09,244 - backend.repositories.migrations - INFO - Database already at version 8, skipping drafts migration
2025-11-13 11:48:09,244 - backend.repositories.migrations - INFO - Database already at version 8, skipping Kindergarten migration
2025-11-13 11:48:09,245 - backend.repositories.migrations - INFO - Database already at version 8, skipping file storage migration
2025-11-13 11:48:09,245 - backend.repositories.migrations - INFO - Database already at version 8, skipping file linking migration
2025-11-13 11:48:09,245 - backend.repositories.migrations - INFO - All migrations completed successfully
2025-11-13 11:48:09,245 - backend.api.main - INFO - Database migrations completed
2025-11-13 11:48:09,245 - backend.api.main - INFO - PocketMusec API started successfully
INFO:     Application startup complete.
2025-11-13 11:48:10,341 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:48:10,342 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51581 - "GET /api/standards?grade_level=0&strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 11:48:11,385 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:48:11,386 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51584 - "GET /api/standards?grade_level=1&strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 11:48:12,791 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:48:12,791 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51588 - "GET /api/standards?grade_level=2&strand_code=CONNECT HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'backend/repositories/standards_repository.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-11-13 11:48:14,797 - backend.api.main - INFO - Shutting down PocketMusec API...
INFO:     Application shutdown complete.
INFO:     Finished server process [48640]
INFO:     Started server process [48648]
INFO:     Waiting for application startup.
2025-11-13 11:48:15,420 - backend.api.main - INFO - Starting PocketMusec API...
2025-11-13 11:48:15,420 - backend.repositories.migrations - INFO - Starting database migration...
2025-11-13 11:48:15,421 - backend.repositories.migrations - INFO - Database already at version 8, skipping standards migration
2025-11-13 11:48:15,421 - backend.repositories.migrations - INFO - Database already at version 8, skipping M3 migration
2025-11-13 11:48:15,421 - backend.repositories.migrations - INFO - Database already at version 8, skipping v4 migration
2025-11-13 11:48:15,421 - backend.repositories.migrations - INFO - Starting extended schema migration...
2025-11-13 11:48:15,421 - backend.repositories.migrations - INFO - Created unpacking document tables
2025-11-13 11:48:15,421 - backend.repositories.migrations - INFO - Created alignment document tables
2025-11-13 11:48:15,421 - backend.repositories.migrations - INFO - Created reference document tables
2025-11-13 11:48:15,421 - backend.repositories.migrations - INFO - Created extended table indexes
2025-11-13 11:48:15,421 - backend.repositories.migrations - INFO - Extended schema migration completed successfully
2025-11-13 11:48:15,422 - backend.repositories.migrations - INFO - Database already at version 8, skipping drafts migration
2025-11-13 11:48:15,422 - backend.repositories.migrations - INFO - Database already at version 8, skipping Kindergarten migration
2025-11-13 11:48:15,422 - backend.repositories.migrations - INFO - Database already at version 8, skipping file storage migration
2025-11-13 11:48:15,422 - backend.repositories.migrations - INFO - Database already at version 8, skipping file linking migration
2025-11-13 11:48:15,422 - backend.repositories.migrations - INFO - All migrations completed successfully
2025-11-13 11:48:15,422 - backend.api.main - INFO - Database migrations completed
2025-11-13 11:48:15,422 - backend.api.main - INFO - PocketMusec API started successfully
INFO:     Application startup complete.
2025-11-13 11:48:16,283 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:48:16,284 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51597 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 11:48:17,690 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:48:17,691 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51601 - "GET /api/standards?grade_level=4&strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 11:48:18,379 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:48:18,381 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51604 - "GET /api/standards?grade_level=5&strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 11:48:19,814 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:48:19,816 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51608 - "GET /api/standards?strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 11:48:20,939 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:48:20,940 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51612 - "GET /api/standards?grade_level=0&strand_code=CONNECT HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'backend/repositories/standards_repository.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-11-13 11:48:22,568 - backend.api.main - INFO - Shutting down PocketMusec API...
INFO:     Application shutdown complete.
INFO:     Finished server process [48648]
INFO:     Started server process [48668]
INFO:     Waiting for application startup.
2025-11-13 11:48:23,186 - backend.api.main - INFO - Starting PocketMusec API...
2025-11-13 11:48:23,186 - backend.repositories.migrations - INFO - Starting database migration...
2025-11-13 11:48:23,187 - backend.repositories.migrations - INFO - Database already at version 8, skipping standards migration
2025-11-13 11:48:23,187 - backend.repositories.migrations - INFO - Database already at version 8, skipping M3 migration
2025-11-13 11:48:23,187 - backend.repositories.migrations - INFO - Database already at version 8, skipping v4 migration
2025-11-13 11:48:23,187 - backend.repositories.migrations - INFO - Starting extended schema migration...
2025-11-13 11:48:23,188 - backend.repositories.migrations - INFO - Created unpacking document tables
2025-11-13 11:48:23,188 - backend.repositories.migrations - INFO - Created alignment document tables
2025-11-13 11:48:23,188 - backend.repositories.migrations - INFO - Created reference document tables
2025-11-13 11:48:23,188 - backend.repositories.migrations - INFO - Created extended table indexes
2025-11-13 11:48:23,188 - backend.repositories.migrations - INFO - Extended schema migration completed successfully
2025-11-13 11:48:23,188 - backend.repositories.migrations - INFO - Database already at version 8, skipping drafts migration
2025-11-13 11:48:23,188 - backend.repositories.migrations - INFO - Database already at version 8, skipping Kindergarten migration
2025-11-13 11:48:23,189 - backend.repositories.migrations - INFO - Database already at version 8, skipping file storage migration
2025-11-13 11:48:23,189 - backend.repositories.migrations - INFO - Database already at version 8, skipping file linking migration
2025-11-13 11:48:23,189 - backend.repositories.migrations - INFO - All migrations completed successfully
2025-11-13 11:48:23,189 - backend.api.main - INFO - Database migrations completed
2025-11-13 11:48:23,189 - backend.api.main - INFO - PocketMusec API started successfully
INFO:     Application startup complete.
2025-11-13 11:48:24,619 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:48:24,619 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51619 - "GET /api/standards?grade_level=0 HTTP/1.1" 200 OK
2025-11-13 11:48:25,419 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:48:25,420 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51624 - "GET /api/standards?grade_level=0&strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 11:48:26,212 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:48:26,213 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51627 - "GET /api/standards?grade_level=0 HTTP/1.1" 200 OK
2025-11-13 11:48:26,955 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:48:26,956 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51631 - "GET /api/standards?grade_level=2 HTTP/1.1" 200 OK
2025-11-13 11:48:28,225 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:48:28,226 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51635 - "GET /api/standards?grade_level=2&strand_code=CREATE HTTP/1.1" 200 OK
2025-11-13 11:48:28,866 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:48:28,868 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51638 - "GET /api/standards?grade_level=2&strand_code=RESPOND HTTP/1.1" 200 OK
2025-11-13 11:48:29,662 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:48:29,663 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51641 - "GET /api/standards?grade_level=2&strand_code=PRESENT HTTP/1.1" 200 OK
2025-11-13 11:48:30,207 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:48:30,208 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51644 - "GET /api/standards?grade_level=2&strand_code=CONNECT HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'backend/repositories/standards_repository.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-11-13 11:48:32,704 - backend.api.main - INFO - Shutting down PocketMusec API...
INFO:     Application shutdown complete.
INFO:     Finished server process [48668]
INFO:     Started server process [48679]
INFO:     Waiting for application startup.
2025-11-13 11:48:33,344 - backend.api.main - INFO - Starting PocketMusec API...
2025-11-13 11:48:33,344 - backend.repositories.migrations - INFO - Starting database migration...
2025-11-13 11:48:33,345 - backend.repositories.migrations - INFO - Database already at version 8, skipping standards migration
2025-11-13 11:48:33,345 - backend.repositories.migrations - INFO - Database already at version 8, skipping M3 migration
2025-11-13 11:48:33,345 - backend.repositories.migrations - INFO - Database already at version 8, skipping v4 migration
2025-11-13 11:48:33,345 - backend.repositories.migrations - INFO - Starting extended schema migration...
2025-11-13 11:48:33,345 - backend.repositories.migrations - INFO - Created unpacking document tables
2025-11-13 11:48:33,346 - backend.repositories.migrations - INFO - Created alignment document tables
2025-11-13 11:48:33,346 - backend.repositories.migrations - INFO - Created reference document tables
2025-11-13 11:48:33,346 - backend.repositories.migrations - INFO - Created extended table indexes
2025-11-13 11:48:33,346 - backend.repositories.migrations - INFO - Extended schema migration completed successfully
2025-11-13 11:48:33,346 - backend.repositories.migrations - INFO - Database already at version 8, skipping drafts migration
2025-11-13 11:48:33,346 - backend.repositories.migrations - INFO - Database already at version 8, skipping Kindergarten migration
2025-11-13 11:48:33,346 - backend.repositories.migrations - INFO - Database already at version 8, skipping file storage migration
2025-11-13 11:48:33,347 - backend.repositories.migrations - INFO - Database already at version 8, skipping file linking migration
2025-11-13 11:48:33,347 - backend.repositories.migrations - INFO - All migrations completed successfully
2025-11-13 11:48:33,347 - backend.api.main - INFO - Database migrations completed
2025-11-13 11:48:33,347 - backend.api.main - INFO - PocketMusec API started successfully
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'backend/repositories/standards_repository.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-11-13 11:48:45,976 - backend.api.main - INFO - Shutting down PocketMusec API...
INFO:     Application shutdown complete.
INFO:     Finished server process [48679]
INFO:     Started server process [48690]
INFO:     Waiting for application startup.
2025-11-13 11:48:46,600 - backend.api.main - INFO - Starting PocketMusec API...
2025-11-13 11:48:46,600 - backend.repositories.migrations - INFO - Starting database migration...
2025-11-13 11:48:46,600 - backend.repositories.migrations - INFO - Database already at version 8, skipping standards migration
2025-11-13 11:48:46,600 - backend.repositories.migrations - INFO - Database already at version 8, skipping M3 migration
2025-11-13 11:48:46,600 - backend.repositories.migrations - INFO - Database already at version 8, skipping v4 migration
2025-11-13 11:48:46,601 - backend.repositories.migrations - INFO - Starting extended schema migration...
2025-11-13 11:48:46,601 - backend.repositories.migrations - INFO - Created unpacking document tables
2025-11-13 11:48:46,601 - backend.repositories.migrations - INFO - Created alignment document tables
2025-11-13 11:48:46,601 - backend.repositories.migrations - INFO - Created reference document tables
2025-11-13 11:48:46,601 - backend.repositories.migrations - INFO - Created extended table indexes
2025-11-13 11:48:46,601 - backend.repositories.migrations - INFO - Extended schema migration completed successfully
2025-11-13 11:48:46,601 - backend.repositories.migrations - INFO - Database already at version 8, skipping drafts migration
2025-11-13 11:48:46,601 - backend.repositories.migrations - INFO - Database already at version 8, skipping Kindergarten migration
2025-11-13 11:48:46,602 - backend.repositories.migrations - INFO - Database already at version 8, skipping file storage migration
2025-11-13 11:48:46,602 - backend.repositories.migrations - INFO - Database already at version 8, skipping file linking migration
2025-11-13 11:48:46,602 - backend.repositories.migrations - INFO - All migrations completed successfully
2025-11-13 11:48:46,602 - backend.api.main - INFO - Database migrations completed
2025-11-13 11:48:46,602 - backend.api.main - INFO - PocketMusec API started successfully
INFO:     Application startup complete.
2025-11-13 11:48:48,574 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:48:48,574 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 11:48:48,576 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:48:48,577 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 11:48:48,578 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:48:48,578 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51664 - "GET /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:51666 - "GET /api/images HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:51670 - "GET /api/drafts HTTP/1.1" 200 OK
INFO:     127.0.0.1:51672 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
INFO:     127.0.0.1:51662 - "POST /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:51669 - "GET /api/images/storage/info HTTP/1.1" 200 OK
2025-11-13 11:48:48,582 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:48:48,583 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 11:48:48,585 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:48:48,585 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 11:48:48,587 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:48:48,587 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51679 - "GET /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:51684 - "GET /api/images HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:51687 - "GET /api/drafts HTTP/1.1" 200 OK
INFO:     127.0.0.1:51678 - "POST /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:51688 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
INFO:     127.0.0.1:51690 - "GET /api/images/ HTTP/1.1" 200 OK
2025-11-13 11:48:48,592 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:48:48,592 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51693 - "GET /api/images/storage/info HTTP/1.1" 200 OK
INFO:     127.0.0.1:51696 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
INFO:     127.0.0.1:51690 - "GET /api/images/ HTTP/1.1" 200 OK
2025-11-13 11:48:48,596 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:48:48,596 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51699 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 11:48:50,938 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:48:50,939 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51704 - "GET /api/standards?strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 11:50:02,247 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:50:02,247 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 11:50:02,249 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:50:02,250 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51755 - "GET /api/sessions HTTP/1.1" 200 OK
2025-11-13 11:50:02,264 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:50:02,265 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51759 - "GET /api/images HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:51763 - "GET /api/drafts HTTP/1.1" 200 OK
INFO:     127.0.0.1:51764 - "GET /api/standards HTTP/1.1" 200 OK
INFO:     127.0.0.1:51756 - "POST /api/sessions HTTP/1.1" 200 OK
2025-11-13 11:50:02,269 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:50:02,269 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51760 - "GET /api/images/storage/info HTTP/1.1" 200 OK
2025-11-13 11:50:02,271 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:50:02,271 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 11:50:02,272 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:50:02,273 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51770 - "GET /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:51775 - "GET /api/images HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:51778 - "GET /api/drafts HTTP/1.1" 200 OK
INFO:     127.0.0.1:51768 - "POST /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:51779 - "GET /api/standards HTTP/1.1" 200 OK
2025-11-13 11:50:02,291 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:50:02,291 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51784 - "GET /api/images/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:51787 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
INFO:     127.0.0.1:51782 - "GET /api/images/storage/info HTTP/1.1" 200 OK
2025-11-13 11:50:02,295 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:50:02,296 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51784 - "GET /api/images/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:51790 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 11:50:22,984 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:50:22,984 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 11:50:22,986 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:50:22,986 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 11:50:22,987 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:50:22,988 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51815 - "GET /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:51819 - "GET /api/images HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:51814 - "POST /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:51822 - "GET /api/standards HTTP/1.1" 200 OK
INFO:     127.0.0.1:51823 - "GET /api/drafts HTTP/1.1" 200 OK
INFO:     127.0.0.1:51818 - "GET /api/images/storage/info HTTP/1.1" 200 OK
2025-11-13 11:50:23,006 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:50:23,006 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51825 - "GET /api/images/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:51828 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 11:50:37,775 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:50:37,775 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 11:50:37,777 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:50:37,777 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 11:50:37,779 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:50:37,779 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51848 - "GET /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:51850 - "GET /api/images HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:51854 - "GET /api/drafts HTTP/1.1" 200 OK
INFO:     127.0.0.1:51847 - "POST /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:51856 - "GET /api/standards HTTP/1.1" 200 OK
INFO:     127.0.0.1:51853 - "GET /api/images/storage/info HTTP/1.1" 200 OK
INFO:     127.0.0.1:51858 - "GET /api/images/ HTTP/1.1" 200 OK
2025-11-13 11:50:37,797 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:50:37,797 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51861 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 11:50:44,436 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:50:44,437 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 11:50:44,438 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:50:44,438 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51876 - "GET /api/sessions HTTP/1.1" 200 OK
2025-11-13 11:50:44,440 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:50:44,441 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51874 - "POST /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:51880 - "GET /api/images HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:51883 - "GET /api/standards HTTP/1.1" 200 OK
INFO:     127.0.0.1:51884 - "GET /api/drafts HTTP/1.1" 200 OK
INFO:     127.0.0.1:51879 - "GET /api/images/storage/info HTTP/1.1" 200 OK
2025-11-13 11:50:44,459 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:50:44,459 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 11:50:44,460 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:50:44,461 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51889 - "POST /api/sessions HTTP/1.1" 200 OK
2025-11-13 11:50:44,463 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:50:44,463 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51894 - "GET /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:51897 - "GET /api/drafts HTTP/1.1" 200 OK
INFO:     127.0.0.1:51898 - "GET /api/images HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:51902 - "GET /api/standards HTTP/1.1" 200 OK
2025-11-13 11:50:44,480 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:50:44,481 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51904 - "GET /api/images/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:51901 - "GET /api/images/storage/info HTTP/1.1" 200 OK
INFO:     127.0.0.1:51907 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 11:50:44,485 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:50:44,485 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51904 - "GET /api/images/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:51910 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 11:50:47,608 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:50:47,609 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51913 - "GET /api/standards?grade_level=0 HTTP/1.1" 200 OK
2025-11-13 11:50:48,250 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:50:48,251 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51916 - "GET /api/standards?grade_level=1 HTTP/1.1" 200 OK
2025-11-13 11:50:49,183 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:50:49,185 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51919 - "GET /api/standards?grade_level=2 HTTP/1.1" 200 OK
2025-11-13 11:50:49,966 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:50:49,968 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51922 - "GET /api/standards?grade_level=3 HTTP/1.1" 200 OK
2025-11-13 11:50:51,179 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:50:51,181 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51925 - "GET /api/standards?grade_level=4 HTTP/1.1" 200 OK
2025-11-13 11:50:55,347 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:50:55,348 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51928 - "GET /api/standards?grade_level=4&strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 11:50:56,563 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:50:56,564 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51931 - "GET /api/standards?grade_level=4&strand_code=CREATE HTTP/1.1" 200 OK
2025-11-13 11:50:57,161 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:50:57,162 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51934 - "GET /api/standards?grade_level=4&strand_code=RESPOND HTTP/1.1" 200 OK
2025-11-13 11:50:58,305 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:50:58,305 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51937 - "GET /api/standards?grade_level=4&strand_code=PRESENT HTTP/1.1" 200 OK
2025-11-13 11:51:00,224 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:51:00,225 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51940 - "GET /api/standards?strand_code=PRESENT HTTP/1.1" 200 OK
2025-11-13 11:51:02,091 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:51:02,093 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51943 - "GET /api/standards?grade_level=0&strand_code=PRESENT HTTP/1.1" 200 OK
2025-11-13 11:51:02,876 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:51:02,877 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51946 - "GET /api/standards?grade_level=1&strand_code=PRESENT HTTP/1.1" 200 OK
2025-11-13 11:51:03,445 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:51:03,447 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51949 - "GET /api/standards?grade_level=1 HTTP/1.1" 200 OK
2025-11-13 11:51:11,777 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:51:11,778 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:51952 - "GET /api/standards?grade_level=0 HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'backend/utils/standards.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-11-13 11:52:54,825 - backend.api.main - INFO - Shutting down PocketMusec API...
INFO:     Application shutdown complete.
INFO:     Finished server process [48690]
INFO:     Started server process [48909]
INFO:     Waiting for application startup.
2025-11-13 11:52:55,457 - backend.api.main - INFO - Starting PocketMusec API...
2025-11-13 11:52:55,457 - backend.repositories.migrations - INFO - Starting database migration...
2025-11-13 11:52:55,458 - backend.repositories.migrations - INFO - Database already at version 8, skipping standards migration
2025-11-13 11:52:55,458 - backend.repositories.migrations - INFO - Database already at version 8, skipping M3 migration
2025-11-13 11:52:55,458 - backend.repositories.migrations - INFO - Database already at version 8, skipping v4 migration
2025-11-13 11:52:55,458 - backend.repositories.migrations - INFO - Starting extended schema migration...
2025-11-13 11:52:55,459 - backend.repositories.migrations - INFO - Created unpacking document tables
2025-11-13 11:52:55,459 - backend.repositories.migrations - INFO - Created alignment document tables
2025-11-13 11:52:55,459 - backend.repositories.migrations - INFO - Created reference document tables
2025-11-13 11:52:55,459 - backend.repositories.migrations - INFO - Created extended table indexes
2025-11-13 11:52:55,459 - backend.repositories.migrations - INFO - Extended schema migration completed successfully
2025-11-13 11:52:55,459 - backend.repositories.migrations - INFO - Database already at version 8, skipping drafts migration
2025-11-13 11:52:55,459 - backend.repositories.migrations - INFO - Database already at version 8, skipping Kindergarten migration
2025-11-13 11:52:55,459 - backend.repositories.migrations - INFO - Database already at version 8, skipping file storage migration
2025-11-13 11:52:55,460 - backend.repositories.migrations - INFO - Database already at version 8, skipping file linking migration
2025-11-13 11:52:55,460 - backend.repositories.migrations - INFO - All migrations completed successfully
2025-11-13 11:52:55,460 - backend.api.main - INFO - Database migrations completed
2025-11-13 11:52:55,460 - backend.api.main - INFO - PocketMusec API started successfully
INFO:     Application startup complete.
2025-11-13 11:53:10,315 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:53:10,315 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52005 - "GET /api/sessions HTTP/1.1" 200 OK
2025-11-13 11:53:10,318 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:53:10,318 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52009 - "GET /api/images HTTP/1.1" 307 Temporary Redirect
2025-11-13 11:53:10,320 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:53:10,320 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52014 - "GET /api/drafts HTTP/1.1" 200 OK
2025-11-13 11:53:10,323 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:53:10,324 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52006 - "POST /api/sessions HTTP/1.1" 200 OK
2025-11-13 11:53:10,341 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:53:10,341 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52013 - "POST /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:52010 - "GET /api/images/storage/info HTTP/1.1" 200 OK
INFO:     127.0.0.1:52019 - "GET /api/standards HTTP/1.1" 200 OK
INFO:     127.0.0.1:52020 - "GET /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:52025 - "GET /api/images HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:52023 - "GET /api/images/ HTTP/1.1" 200 OK
2025-11-13 11:53:10,345 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:53:10,346 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52028 - "GET /api/drafts HTTP/1.1" 200 OK
2025-11-13 11:53:10,361 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:53:10,361 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52034 - "GET /api/standards HTTP/1.1" 200 OK
INFO:     127.0.0.1:52037 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
INFO:     127.0.0.1:52032 - "GET /api/images/storage/info HTTP/1.1" 200 OK
INFO:     127.0.0.1:52039 - "GET /api/images/ HTTP/1.1" 200 OK
2025-11-13 11:53:10,367 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:53:10,367 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52042 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 11:53:12,832 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:53:12,833 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52046 - "GET /api/standards?grade_level=0 HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'backend/repositories/standards_repository.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-11-13 11:53:37,194 - backend.api.main - INFO - Shutting down PocketMusec API...
INFO:     Application shutdown complete.
INFO:     Finished server process [48909]
INFO:     Started server process [48996]
INFO:     Waiting for application startup.
2025-11-13 11:53:37,816 - backend.api.main - INFO - Starting PocketMusec API...
2025-11-13 11:53:37,816 - backend.repositories.migrations - INFO - Starting database migration...
2025-11-13 11:53:37,817 - backend.repositories.migrations - INFO - Database already at version 8, skipping standards migration
2025-11-13 11:53:37,817 - backend.repositories.migrations - INFO - Database already at version 8, skipping M3 migration
2025-11-13 11:53:37,817 - backend.repositories.migrations - INFO - Database already at version 8, skipping v4 migration
2025-11-13 11:53:37,817 - backend.repositories.migrations - INFO - Starting extended schema migration...
2025-11-13 11:53:37,818 - backend.repositories.migrations - INFO - Created unpacking document tables
2025-11-13 11:53:37,818 - backend.repositories.migrations - INFO - Created alignment document tables
2025-11-13 11:53:37,818 - backend.repositories.migrations - INFO - Created reference document tables
2025-11-13 11:53:37,818 - backend.repositories.migrations - INFO - Created extended table indexes
2025-11-13 11:53:37,818 - backend.repositories.migrations - INFO - Extended schema migration completed successfully
2025-11-13 11:53:37,818 - backend.repositories.migrations - INFO - Database already at version 8, skipping drafts migration
2025-11-13 11:53:37,818 - backend.repositories.migrations - INFO - Database already at version 8, skipping Kindergarten migration
2025-11-13 11:53:37,818 - backend.repositories.migrations - INFO - Database already at version 8, skipping file storage migration
2025-11-13 11:53:37,819 - backend.repositories.migrations - INFO - Database already at version 8, skipping file linking migration
2025-11-13 11:53:37,819 - backend.repositories.migrations - INFO - All migrations completed successfully
2025-11-13 11:53:37,819 - backend.api.main - INFO - Database migrations completed
2025-11-13 11:53:37,819 - backend.api.main - INFO - PocketMusec API started successfully
INFO:     Application startup complete.
2025-11-13 11:53:39,177 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:53:39,177 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52059 - "GET /api/standards HTTP/1.1" 200 OK
2025-11-13 11:53:39,674 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:53:39,674 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52062 - "GET /api/standards?grade_level=0 HTTP/1.1" 200 OK
2025-11-13 11:53:41,988 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:53:41,989 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52069 - "GET /api/standards?grade_level=1 HTTP/1.1" 200 OK
2025-11-13 11:53:42,373 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:53:42,374 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52072 - "GET /api/standards?grade_level=0 HTTP/1.1" 200 OK
2025-11-13 11:53:47,087 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:53:47,087 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 11:53:47,088 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:53:47,089 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52084 - "GET /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:52086 - "GET /api/images HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:52082 - "POST /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:52091 - "GET /api/drafts HTTP/1.1" 200 OK
2025-11-13 11:53:47,092 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:53:47,092 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 11:53:47,095 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:53:47,096 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 11:53:47,108 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:53:47,109 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52092 - "POST /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:52090 - "GET /api/images/storage/info HTTP/1.1" 200 OK
INFO:     127.0.0.1:52097 - "GET /api/standards HTTP/1.1" 200 OK
INFO:     127.0.0.1:52098 - "GET /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:52103 - "GET /api/drafts HTTP/1.1" 200 OK
INFO:     127.0.0.1:52104 - "GET /api/images HTTP/1.1" 307 Temporary Redirect
2025-11-13 11:53:47,113 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:53:47,113 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52106 - "GET /api/images/ HTTP/1.1" 200 OK
2025-11-13 11:53:47,115 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:53:47,115 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52111 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
INFO:     127.0.0.1:52115 - "GET /api/standards HTTP/1.1" 200 OK
INFO:     127.0.0.1:52112 - "GET /api/images/storage/info HTTP/1.1" 200 OK
2025-11-13 11:53:47,136 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:53:47,136 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52106 - "GET /api/images/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:52118 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 11:53:49,294 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:53:49,295 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52121 - "GET /api/standards?grade_level=0 HTTP/1.1" 200 OK
2025-11-13 11:53:49,969 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:53:49,970 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52124 - "GET /api/standards?grade_level=1 HTTP/1.1" 200 OK
2025-11-13 11:53:50,456 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:53:50,457 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52127 - "GET /api/standards?grade_level=1&strand_code=CONNECT HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'backend/repositories/standards_repository.py', 'backend/utils/standards.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-11-13 11:53:50,790 - backend.api.main - INFO - Shutting down PocketMusec API...
INFO:     Application shutdown complete.
INFO:     Finished server process [48996]
INFO:     Started server process [49015]
INFO:     Waiting for application startup.
2025-11-13 11:53:51,373 - backend.api.main - INFO - Starting PocketMusec API...
2025-11-13 11:53:51,373 - backend.repositories.migrations - INFO - Starting database migration...
2025-11-13 11:53:51,373 - backend.repositories.migrations - INFO - Database already at version 8, skipping standards migration
2025-11-13 11:53:51,374 - backend.repositories.migrations - INFO - Database already at version 8, skipping M3 migration
2025-11-13 11:53:51,374 - backend.repositories.migrations - INFO - Database already at version 8, skipping v4 migration
2025-11-13 11:53:51,374 - backend.repositories.migrations - INFO - Starting extended schema migration...
2025-11-13 11:53:51,374 - backend.repositories.migrations - INFO - Created unpacking document tables
2025-11-13 11:53:51,374 - backend.repositories.migrations - INFO - Created alignment document tables
2025-11-13 11:53:51,374 - backend.repositories.migrations - INFO - Created reference document tables
2025-11-13 11:53:51,374 - backend.repositories.migrations - INFO - Created extended table indexes
2025-11-13 11:53:51,374 - backend.repositories.migrations - INFO - Extended schema migration completed successfully
2025-11-13 11:53:51,374 - backend.repositories.migrations - INFO - Database already at version 8, skipping drafts migration
2025-11-13 11:53:51,375 - backend.repositories.migrations - INFO - Database already at version 8, skipping Kindergarten migration
2025-11-13 11:53:51,375 - backend.repositories.migrations - INFO - Database already at version 8, skipping file storage migration
2025-11-13 11:53:51,375 - backend.repositories.migrations - INFO - Database already at version 8, skipping file linking migration
2025-11-13 11:53:51,375 - backend.repositories.migrations - INFO - All migrations completed successfully
2025-11-13 11:53:51,375 - backend.api.main - INFO - Database migrations completed
2025-11-13 11:53:51,375 - backend.api.main - INFO - PocketMusec API started successfully
INFO:     Application startup complete.
2025-11-13 11:53:51,390 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:53:51,390 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52136 - "GET /api/standards?grade_level=1&strand_code=CREATE HTTP/1.1" 200 OK
2025-11-13 11:53:52,432 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:53:52,433 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52140 - "GET /api/standards?grade_level=0&strand_code=CREATE HTTP/1.1" 200 OK
2025-11-13 11:53:52,995 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:53:52,996 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52143 - "GET /api/standards?grade_level=0 HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'backend/repositories/standards_repository.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-11-13 11:54:49,076 - backend.api.main - INFO - Shutting down PocketMusec API...
INFO:     Application shutdown complete.
INFO:     Finished server process [49015]
INFO:     Started server process [49151]
INFO:     Waiting for application startup.
2025-11-13 11:54:49,707 - backend.api.main - INFO - Starting PocketMusec API...
2025-11-13 11:54:49,707 - backend.repositories.migrations - INFO - Starting database migration...
2025-11-13 11:54:49,708 - backend.repositories.migrations - INFO - Database already at version 8, skipping standards migration
2025-11-13 11:54:49,708 - backend.repositories.migrations - INFO - Database already at version 8, skipping M3 migration
2025-11-13 11:54:49,708 - backend.repositories.migrations - INFO - Database already at version 8, skipping v4 migration
2025-11-13 11:54:49,708 - backend.repositories.migrations - INFO - Starting extended schema migration...
2025-11-13 11:54:49,708 - backend.repositories.migrations - INFO - Created unpacking document tables
2025-11-13 11:54:49,709 - backend.repositories.migrations - INFO - Created alignment document tables
2025-11-13 11:54:49,709 - backend.repositories.migrations - INFO - Created reference document tables
2025-11-13 11:54:49,709 - backend.repositories.migrations - INFO - Created extended table indexes
2025-11-13 11:54:49,709 - backend.repositories.migrations - INFO - Extended schema migration completed successfully
2025-11-13 11:54:49,709 - backend.repositories.migrations - INFO - Database already at version 8, skipping drafts migration
2025-11-13 11:54:49,709 - backend.repositories.migrations - INFO - Database already at version 8, skipping Kindergarten migration
2025-11-13 11:54:49,709 - backend.repositories.migrations - INFO - Database already at version 8, skipping file storage migration
2025-11-13 11:54:49,710 - backend.repositories.migrations - INFO - Database already at version 8, skipping file linking migration
2025-11-13 11:54:49,710 - backend.repositories.migrations - INFO - All migrations completed successfully
2025-11-13 11:54:49,710 - backend.api.main - INFO - Database migrations completed
2025-11-13 11:54:49,710 - backend.api.main - INFO - PocketMusec API started successfully
INFO:     Application startup complete.
2025-11-13 11:54:53,220 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:54:53,221 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 11:54:53,222 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:54:53,223 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 11:54:53,229 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:54:53,229 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 11:54:53,234 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:54:53,234 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52213 - "GET /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:52214 - "GET /api/images HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:52218 - "GET /api/drafts HTTP/1.1" 200 OK
INFO:     127.0.0.1:52219 - "GET /api/standards?grade_level=K HTTP/1.1" 200 OK
INFO:     127.0.0.1:52221 - "GET /api/ingestion/files?limit=10&offset=0 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52222 - "GET /api/ingestion/files/stats HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:52223 - "GET /api/standards?grade_level=1 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52212 - "POST /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:52215 - "GET /api/images/storage/info HTTP/1.1" 200 OK
2025-11-13 11:54:53,241 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:54:53,242 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52227 - "GET /api/ingestion/files?limit=10&offset=0 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52225 - "GET /api/images/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:52230 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 11:54:58,474 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:54:58,474 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 11:54:58,479 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:54:58,480 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 11:54:58,483 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:54:58,483 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52252 - "GET /api/ingestion/files?limit=10&offset=0 HTTP/1.1" 200 OK
2025-11-13 11:54:58,488 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:54:58,488 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52253 - "GET /api/ingestion/files/stats HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:52254 - "GET /api/standards?grade_level=1 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52256 - "GET /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:52258 - "GET /api/images HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:52261 - "GET /api/drafts HTTP/1.1" 200 OK
INFO:     127.0.0.1:52262 - "GET /api/standards?grade_level=K HTTP/1.1" 200 OK
INFO:     127.0.0.1:52255 - "POST /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:52259 - "GET /api/images/storage/info HTTP/1.1" 200 OK
INFO:     127.0.0.1:52264 - "GET /api/ingestion/files?limit=10&offset=0 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52266 - "GET /api/images/ HTTP/1.1" 200 OK
2025-11-13 11:54:58,499 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:54:58,499 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52269 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 11:55:04,722 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:55:04,723 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52280 - "GET /api/sessions HTTP/1.1" 200 OK
2025-11-13 11:55:04,726 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:55:04,726 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52284 - "GET /api/images HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:52287 - "GET /api/drafts HTTP/1.1" 200 OK
2025-11-13 11:55:04,728 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:55:04,728 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 11:55:04,730 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:55:04,730 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52282 - "POST /api/sessions HTTP/1.1" 200 OK
2025-11-13 11:55:04,745 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:55:04,745 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52290 - "POST /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:52293 - "GET /api/standards HTTP/1.1" 200 OK
INFO:     127.0.0.1:52288 - "GET /api/images/storage/info HTTP/1.1" 200 OK
INFO:     127.0.0.1:52296 - "GET /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:52301 - "GET /api/images HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:52298 - "GET /api/images/ HTTP/1.1" 200 OK
2025-11-13 11:55:04,750 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:55:04,750 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52304 - "GET /api/drafts HTTP/1.1" 200 OK
2025-11-13 11:55:04,764 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:55:04,764 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52308 - "GET /api/standards HTTP/1.1" 200 OK
INFO:     127.0.0.1:52313 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
INFO:     127.0.0.1:52312 - "GET /api/images/storage/info HTTP/1.1" 200 OK
2025-11-13 11:55:04,769 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:55:04,770 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52298 - "GET /api/images/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:52318 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'backend/utils/standards.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-11-13 11:55:05,773 - backend.api.main - INFO - Shutting down PocketMusec API...
INFO:     Application shutdown complete.
INFO:     Finished server process [49151]
INFO:     Started server process [49189]
INFO:     Waiting for application startup.
2025-11-13 11:55:06,469 - backend.api.main - INFO - Starting PocketMusec API...
2025-11-13 11:55:06,470 - backend.repositories.migrations - INFO - Starting database migration...
2025-11-13 11:55:06,470 - backend.repositories.migrations - INFO - Database already at version 8, skipping standards migration
2025-11-13 11:55:06,470 - backend.repositories.migrations - INFO - Database already at version 8, skipping M3 migration
2025-11-13 11:55:06,471 - backend.repositories.migrations - INFO - Database already at version 8, skipping v4 migration
2025-11-13 11:55:06,471 - backend.repositories.migrations - INFO - Starting extended schema migration...
2025-11-13 11:55:06,471 - backend.repositories.migrations - INFO - Created unpacking document tables
2025-11-13 11:55:06,471 - backend.repositories.migrations - INFO - Created alignment document tables
2025-11-13 11:55:06,471 - backend.repositories.migrations - INFO - Created reference document tables
2025-11-13 11:55:06,471 - backend.repositories.migrations - INFO - Created extended table indexes
2025-11-13 11:55:06,471 - backend.repositories.migrations - INFO - Extended schema migration completed successfully
2025-11-13 11:55:06,471 - backend.repositories.migrations - INFO - Database already at version 8, skipping drafts migration
2025-11-13 11:55:06,472 - backend.repositories.migrations - INFO - Database already at version 8, skipping Kindergarten migration
2025-11-13 11:55:06,472 - backend.repositories.migrations - INFO - Database already at version 8, skipping file storage migration
2025-11-13 11:55:06,472 - backend.repositories.migrations - INFO - Database already at version 8, skipping file linking migration
2025-11-13 11:55:06,472 - backend.repositories.migrations - INFO - All migrations completed successfully
2025-11-13 11:55:06,472 - backend.api.main - INFO - Database migrations completed
2025-11-13 11:55:06,472 - backend.api.main - INFO - PocketMusec API started successfully
INFO:     Application startup complete.
2025-11-13 11:55:17,077 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:55:17,078 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 11:55:17,079 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:55:17,079 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 11:55:17,095 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:55:17,095 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52344 - "GET /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:52348 - "GET /api/images HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:52351 - "GET /api/standards HTTP/1.1" 200 OK
INFO:     127.0.0.1:52352 - "GET /api/drafts HTTP/1.1" 200 OK
INFO:     127.0.0.1:52343 - "POST /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:52347 - "GET /api/images/storage/info HTTP/1.1" 200 OK
2025-11-13 11:55:17,101 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:55:17,102 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 11:55:17,103 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:55:17,103 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 11:55:17,118 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:55:17,119 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52362 - "GET /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:52365 - "GET /api/images HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:52366 - "GET /api/standards HTTP/1.1" 200 OK
INFO:     127.0.0.1:52370 - "GET /api/drafts HTTP/1.1" 200 OK
INFO:     127.0.0.1:52361 - "POST /api/sessions HTTP/1.1" 200 OK
2025-11-13 11:55:17,123 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:55:17,123 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52372 - "GET /api/images/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:52369 - "GET /api/images/storage/info HTTP/1.1" 200 OK
INFO:     127.0.0.1:52376 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
INFO:     127.0.0.1:52372 - "GET /api/images/ HTTP/1.1" 200 OK
2025-11-13 11:55:17,128 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:55:17,128 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52379 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 11:55:20,271 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:55:20,272 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52384 - "GET /api/standards?grade_level=K HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'backend/repositories/standards_repository.py', 'backend/utils/standards.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-11-13 11:55:27,177 - backend.api.main - INFO - Shutting down PocketMusec API...
INFO:     Application shutdown complete.
INFO:     Finished server process [49189]
INFO:     Started server process [49282]
INFO:     Waiting for application startup.
2025-11-13 11:55:27,823 - backend.api.main - INFO - Starting PocketMusec API...
2025-11-13 11:55:27,823 - backend.repositories.migrations - INFO - Starting database migration...
2025-11-13 11:55:27,823 - backend.repositories.migrations - INFO - Database already at version 8, skipping standards migration
2025-11-13 11:55:27,824 - backend.repositories.migrations - INFO - Database already at version 8, skipping M3 migration
2025-11-13 11:55:27,824 - backend.repositories.migrations - INFO - Database already at version 8, skipping v4 migration
2025-11-13 11:55:27,824 - backend.repositories.migrations - INFO - Starting extended schema migration...
2025-11-13 11:55:27,824 - backend.repositories.migrations - INFO - Created unpacking document tables
2025-11-13 11:55:27,824 - backend.repositories.migrations - INFO - Created alignment document tables
2025-11-13 11:55:27,824 - backend.repositories.migrations - INFO - Created reference document tables
2025-11-13 11:55:27,824 - backend.repositories.migrations - INFO - Created extended table indexes
2025-11-13 11:55:27,824 - backend.repositories.migrations - INFO - Extended schema migration completed successfully
2025-11-13 11:55:27,825 - backend.repositories.migrations - INFO - Database already at version 8, skipping drafts migration
2025-11-13 11:55:27,825 - backend.repositories.migrations - INFO - Database already at version 8, skipping Kindergarten migration
2025-11-13 11:55:27,825 - backend.repositories.migrations - INFO - Database already at version 8, skipping file storage migration
2025-11-13 11:55:27,825 - backend.repositories.migrations - INFO - Database already at version 8, skipping file linking migration
2025-11-13 11:55:27,825 - backend.repositories.migrations - INFO - All migrations completed successfully
2025-11-13 11:55:27,825 - backend.api.main - INFO - Database migrations completed
2025-11-13 11:55:27,825 - backend.api.main - INFO - PocketMusec API started successfully
INFO:     Application startup complete.
2025-11-13 11:55:27,844 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:55:27,844 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 11:55:27,847 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:55:27,847 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52403 - "GET /api/ingestion/files?limit=10&offset=0 HTTP/1.1" 200 OK
2025-11-13 11:55:27,849 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:55:27,849 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52407 - "GET /api/ingestion/files/stats HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:52408 - "GET /api/standards?grade_level=1 HTTP/1.1" 200 OK
2025-11-13 11:55:27,852 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:55:27,852 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52414 - "GET /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:52415 - "GET /api/images HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:52417 - "GET /api/drafts HTTP/1.1" 200 OK
INFO:     127.0.0.1:52419 - "GET /api/standards?grade_level=K HTTP/1.1" 200 OK
INFO:     127.0.0.1:52413 - "POST /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:52416 - "GET /api/images/storage/info HTTP/1.1" 200 OK
INFO:     127.0.0.1:52422 - "GET /api/ingestion/files?limit=10&offset=0 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52424 - "GET /api/images/ HTTP/1.1" 200 OK
2025-11-13 11:55:27,865 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:55:27,865 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52427 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 11:55:30,620 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:55:30,621 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52431 - "GET /api/standards HTTP/1.1" 200 OK
2025-11-13 11:55:31,058 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:55:31,059 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52434 - "GET /api/standards?grade_level=K HTTP/1.1" 200 OK
2025-11-13 11:57:27,937 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:57:27,938 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52487 - "GET /api/sessions HTTP/1.1" 200 OK
2025-11-13 11:57:27,940 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:57:27,941 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52492 - "GET /api/images HTTP/1.1" 307 Temporary Redirect
2025-11-13 11:57:27,943 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:57:27,943 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52496 - "GET /api/drafts HTTP/1.1" 200 OK
INFO:     127.0.0.1:52488 - "POST /api/sessions HTTP/1.1" 200 OK
2025-11-13 11:57:27,946 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:57:27,946 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 11:57:27,960 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:57:27,960 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52495 - "POST /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:52491 - "GET /api/images/storage/info HTTP/1.1" 200 OK
INFO:     127.0.0.1:52499 - "GET /api/standards HTTP/1.1" 200 OK
INFO:     127.0.0.1:52502 - "GET /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:52505 - "GET /api/images HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:52507 - "GET /api/images/ HTTP/1.1" 200 OK
2025-11-13 11:57:27,964 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:57:27,965 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52510 - "GET /api/drafts HTTP/1.1" 200 OK
2025-11-13 11:57:27,979 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:57:27,979 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52517 - "GET /api/standards HTTP/1.1" 200 OK
INFO:     127.0.0.1:52519 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
INFO:     127.0.0.1:52514 - "GET /api/images/storage/info HTTP/1.1" 200 OK
INFO:     127.0.0.1:52521 - "GET /api/images/ HTTP/1.1" 200 OK
2025-11-13 11:57:27,985 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:57:27,985 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52524 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 11:57:31,148 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:57:31,149 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52527 - "GET /api/standards?grade_level=1 HTTP/1.1" 200 OK
2025-11-13 11:57:32,787 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:57:32,788 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52530 - "GET /api/standards?grade_level=1&strand_code=CREATE HTTP/1.1" 200 OK
2025-11-13 11:57:36,600 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:57:36,602 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52533 - "GET /api/standards?grade_level=4&strand_code=CREATE HTTP/1.1" 200 OK
2025-11-13 11:57:37,813 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:57:37,814 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52536 - "GET /api/standards?grade_level=4&strand_code=RESPOND HTTP/1.1" 200 OK
2025-11-13 11:57:41,480 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:57:41,481 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52539 - "GET /api/standards?grade_level=K&strand_code=RESPOND HTTP/1.1" 200 OK
2025-11-13 11:57:43,331 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:57:43,332 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52542 - "GET /api/standards?grade_level=K&strand_code=PRESENT HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'backend/api/routes/standards.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-11-13 11:59:34,638 - backend.api.main - INFO - Shutting down PocketMusec API...
INFO:     Application shutdown complete.
INFO:     Finished server process [49282]
INFO:     Started server process [49690]
INFO:     Waiting for application startup.
2025-11-13 11:59:35,338 - backend.api.main - INFO - Starting PocketMusec API...
2025-11-13 11:59:35,338 - backend.repositories.migrations - INFO - Starting database migration...
2025-11-13 11:59:35,339 - backend.repositories.migrations - INFO - Database already at version 8, skipping standards migration
2025-11-13 11:59:35,339 - backend.repositories.migrations - INFO - Database already at version 8, skipping M3 migration
2025-11-13 11:59:35,339 - backend.repositories.migrations - INFO - Database already at version 8, skipping v4 migration
2025-11-13 11:59:35,340 - backend.repositories.migrations - INFO - Starting extended schema migration...
2025-11-13 11:59:35,340 - backend.repositories.migrations - INFO - Created unpacking document tables
2025-11-13 11:59:35,340 - backend.repositories.migrations - INFO - Created alignment document tables
2025-11-13 11:59:35,340 - backend.repositories.migrations - INFO - Created reference document tables
2025-11-13 11:59:35,340 - backend.repositories.migrations - INFO - Created extended table indexes
2025-11-13 11:59:35,340 - backend.repositories.migrations - INFO - Extended schema migration completed successfully
2025-11-13 11:59:35,340 - backend.repositories.migrations - INFO - Database already at version 8, skipping drafts migration
2025-11-13 11:59:35,341 - backend.repositories.migrations - INFO - Database already at version 8, skipping Kindergarten migration
2025-11-13 11:59:35,341 - backend.repositories.migrations - INFO - Database already at version 8, skipping file storage migration
2025-11-13 11:59:35,341 - backend.repositories.migrations - INFO - Database already at version 8, skipping file linking migration
2025-11-13 11:59:35,341 - backend.repositories.migrations - INFO - All migrations completed successfully
2025-11-13 11:59:35,341 - backend.api.main - INFO - Database migrations completed
2025-11-13 11:59:35,341 - backend.api.main - INFO - PocketMusec API started successfully
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'backend/api/routes/sessions.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-11-13 11:59:43,416 - backend.api.main - INFO - Shutting down PocketMusec API...
INFO:     Application shutdown complete.
INFO:     Finished server process [49690]
INFO:     Started server process [49703]
INFO:     Waiting for application startup.
2025-11-13 11:59:44,107 - backend.api.main - INFO - Starting PocketMusec API...
2025-11-13 11:59:44,108 - backend.repositories.migrations - INFO - Starting database migration...
2025-11-13 11:59:44,108 - backend.repositories.migrations - INFO - Database already at version 8, skipping standards migration
2025-11-13 11:59:44,108 - backend.repositories.migrations - INFO - Database already at version 8, skipping M3 migration
2025-11-13 11:59:44,109 - backend.repositories.migrations - INFO - Database already at version 8, skipping v4 migration
2025-11-13 11:59:44,109 - backend.repositories.migrations - INFO - Starting extended schema migration...
2025-11-13 11:59:44,109 - backend.repositories.migrations - INFO - Created unpacking document tables
2025-11-13 11:59:44,109 - backend.repositories.migrations - INFO - Created alignment document tables
2025-11-13 11:59:44,109 - backend.repositories.migrations - INFO - Created reference document tables
2025-11-13 11:59:44,109 - backend.repositories.migrations - INFO - Created extended table indexes
2025-11-13 11:59:44,109 - backend.repositories.migrations - INFO - Extended schema migration completed successfully
2025-11-13 11:59:44,109 - backend.repositories.migrations - INFO - Database already at version 8, skipping drafts migration
2025-11-13 11:59:44,110 - backend.repositories.migrations - INFO - Database already at version 8, skipping Kindergarten migration
2025-11-13 11:59:44,110 - backend.repositories.migrations - INFO - Database already at version 8, skipping file storage migration
2025-11-13 11:59:44,110 - backend.repositories.migrations - INFO - Database already at version 8, skipping file linking migration
2025-11-13 11:59:44,110 - backend.repositories.migrations - INFO - All migrations completed successfully
2025-11-13 11:59:44,110 - backend.api.main - INFO - Database migrations completed
2025-11-13 11:59:44,110 - backend.api.main - INFO - PocketMusec API started successfully
INFO:     Application startup complete.
2025-11-13 11:59:58,639 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 11:59:58,639 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52605 - "GET /api/standards?grade_level=6 HTTP/1.1" 200 OK
2025-11-13 12:00:02,341 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 12:00:02,342 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52609 - "GET /api/standards?grade_level=K HTTP/1.1" 200 OK
2025-11-13 12:00:04,569 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 12:00:04,570 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52612 - "GET /api/standards HTTP/1.1" 200 OK
2025-11-13 12:00:09,438 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 12:00:09,439 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52617 - "GET /api/standards?grade_level=K HTTP/1.1" 200 OK
2025-11-13 12:00:11,217 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 12:00:11,218 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52620 - "GET /api/standards?grade_level=K&strand_code=CREATE HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'backend/api/routes/sessions.py', 'backend/api/routes/standards.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-11-13 12:00:18,839 - backend.api.main - INFO - Shutting down PocketMusec API...
INFO:     Application shutdown complete.
INFO:     Finished server process [49703]
INFO:     Started server process [49743]
INFO:     Waiting for application startup.
2025-11-13 12:00:19,542 - backend.api.main - INFO - Starting PocketMusec API...
2025-11-13 12:00:19,542 - backend.repositories.migrations - INFO - Starting database migration...
2025-11-13 12:00:19,543 - backend.repositories.migrations - INFO - Database already at version 8, skipping standards migration
2025-11-13 12:00:19,543 - backend.repositories.migrations - INFO - Database already at version 8, skipping M3 migration
2025-11-13 12:00:19,543 - backend.repositories.migrations - INFO - Database already at version 8, skipping v4 migration
2025-11-13 12:00:19,543 - backend.repositories.migrations - INFO - Starting extended schema migration...
2025-11-13 12:00:19,544 - backend.repositories.migrations - INFO - Created unpacking document tables
2025-11-13 12:00:19,544 - backend.repositories.migrations - INFO - Created alignment document tables
2025-11-13 12:00:19,544 - backend.repositories.migrations - INFO - Created reference document tables
2025-11-13 12:00:19,544 - backend.repositories.migrations - INFO - Created extended table indexes
2025-11-13 12:00:19,544 - backend.repositories.migrations - INFO - Extended schema migration completed successfully
2025-11-13 12:00:19,544 - backend.repositories.migrations - INFO - Database already at version 8, skipping drafts migration
2025-11-13 12:00:19,545 - backend.repositories.migrations - INFO - Database already at version 8, skipping Kindergarten migration
2025-11-13 12:00:19,545 - backend.repositories.migrations - INFO - Database already at version 8, skipping file storage migration
2025-11-13 12:00:19,545 - backend.repositories.migrations - INFO - Database already at version 8, skipping file linking migration
2025-11-13 12:00:19,545 - backend.repositories.migrations - INFO - All migrations completed successfully
2025-11-13 12:00:19,545 - backend.api.main - INFO - Database migrations completed
2025-11-13 12:00:19,545 - backend.api.main - INFO - PocketMusec API started successfully
INFO:     Application startup complete.
2025-11-13 12:00:19,963 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 12:00:19,964 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 12:00:19,966 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 12:00:19,966 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 12:00:19,982 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 12:00:19,983 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52641 - "GET /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:52642 - "GET /api/images HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:52644 - "GET /api/drafts HTTP/1.1" 200 OK
INFO:     127.0.0.1:52645 - "GET /api/standards HTTP/1.1" 200 OK
INFO:     127.0.0.1:52640 - "POST /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:52643 - "GET /api/images/storage/info HTTP/1.1" 200 OK
2025-11-13 12:00:19,988 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 12:00:19,988 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52652 - "POST /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:52655 - "GET /api/images/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:52657 - "GET /api/images HTTP/1.1" 307 Temporary Redirect
2025-11-13 12:00:19,993 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 12:00:19,994 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52660 - "GET /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:52655 - "GET /api/images/ HTTP/1.1" 200 OK
2025-11-13 12:00:19,996 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 12:00:19,996 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 12:00:20,013 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 12:00:20,013 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52663 - "GET /api/standards HTTP/1.1" 200 OK
INFO:     127.0.0.1:52664 - "GET /api/drafts HTTP/1.1" 200 OK
INFO:     127.0.0.1:52667 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
INFO:     127.0.0.1:52668 - "GET /api/images/storage/info HTTP/1.1" 200 OK
2025-11-13 12:00:20,018 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 12:00:20,018 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52671 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 12:00:26,679 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 12:00:26,679 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 12:00:26,681 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 12:00:26,681 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52686 - "GET /api/sessions HTTP/1.1" 200 OK
2025-11-13 12:00:26,695 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 12:00:26,695 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52689 - "GET /api/images HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:52694 - "GET /api/standards HTTP/1.1" 200 OK
INFO:     127.0.0.1:52687 - "POST /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:52695 - "GET /api/drafts HTTP/1.1" 200 OK
2025-11-13 12:00:26,700 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 12:00:26,700 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52691 - "GET /api/images/storage/info HTTP/1.1" 200 OK
2025-11-13 12:00:26,701 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 12:00:26,702 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52700 - "GET /api/sessions HTTP/1.1" 200 OK
2025-11-13 12:00:26,717 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 12:00:26,717 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52707 - "GET /api/standards HTTP/1.1" 200 OK
INFO:     127.0.0.1:52708 - "GET /api/images HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:52701 - "POST /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:52710 - "GET /api/drafts HTTP/1.1" 200 OK
2025-11-13 12:00:26,722 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 12:00:26,722 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52715 - "GET /api/images/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:52718 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
INFO:     127.0.0.1:52713 - "GET /api/images/storage/info HTTP/1.1" 200 OK
2025-11-13 12:00:26,727 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 12:00:26,727 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52715 - "GET /api/images/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:52723 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 12:00:30,151 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 12:00:30,153 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52726 - "GET /api/standards?strand_code=CREATE HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'backend/api/routes/sessions.py', 'backend/api/routes/standards.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-11-13 12:00:35,725 - backend.api.main - INFO - Shutting down PocketMusec API...
INFO:     Application shutdown complete.
INFO:     Finished server process [49743]
WARNING:  WatchFiles detected changes in 'backend/utils/standards.py', 'backend/repositories/standards_repository.py'. Reloading...
INFO:     Started server process [49795]
INFO:     Waiting for application startup.
2025-11-13 12:00:36,842 - backend.api.main - INFO - Starting PocketMusec API...
2025-11-13 12:00:36,842 - backend.repositories.migrations - INFO - Starting database migration...
2025-11-13 12:00:36,843 - backend.repositories.migrations - INFO - Database already at version 8, skipping standards migration
2025-11-13 12:00:36,843 - backend.repositories.migrations - INFO - Database already at version 8, skipping M3 migration
2025-11-13 12:00:36,844 - backend.repositories.migrations - INFO - Database already at version 8, skipping v4 migration
2025-11-13 12:00:36,844 - backend.repositories.migrations - INFO - Starting extended schema migration...
2025-11-13 12:00:36,844 - backend.repositories.migrations - INFO - Created unpacking document tables
2025-11-13 12:00:36,844 - backend.repositories.migrations - INFO - Created alignment document tables
2025-11-13 12:00:36,844 - backend.repositories.migrations - INFO - Created reference document tables
2025-11-13 12:00:36,844 - backend.repositories.migrations - INFO - Created extended table indexes
2025-11-13 12:00:36,844 - backend.repositories.migrations - INFO - Extended schema migration completed successfully
2025-11-13 12:00:36,845 - backend.repositories.migrations - INFO - Database already at version 8, skipping drafts migration
2025-11-13 12:00:36,845 - backend.repositories.migrations - INFO - Database already at version 8, skipping Kindergarten migration
2025-11-13 12:00:36,845 - backend.repositories.migrations - INFO - Database already at version 8, skipping file storage migration
2025-11-13 12:00:36,845 - backend.repositories.migrations - INFO - Database already at version 8, skipping file linking migration
2025-11-13 12:00:36,845 - backend.repositories.migrations - INFO - All migrations completed successfully
2025-11-13 12:00:36,845 - backend.api.main - INFO - Database migrations completed
2025-11-13 12:00:36,845 - backend.api.main - INFO - PocketMusec API started successfully
INFO:     Application startup complete.
2025-11-13 12:00:36,865 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 12:00:36,866 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 12:00:36,867 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 12:00:36,868 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52744 - "GET /api/ingestion/files?limit=10&offset=0 HTTP/1.1" 200 OK
2025-11-13 12:00:36,870 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 12:00:36,870 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52745 - "GET /api/ingestion/files/stats HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:52746 - "GET /api/standards?grade_level=K&strand_code=CREATE HTTP/1.1" 200 OK
INFO:     127.0.0.1:52749 - "GET /api/sessions HTTP/1.1" 200 OK
2025-11-13 12:00:36,879 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 12:00:36,879 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52752 - "GET /api/images HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:52757 - "GET /api/drafts HTTP/1.1" 200 OK
INFO:     127.0.0.1:52758 - "GET /api/standards?strand_code=CREATE HTTP/1.1" 200 OK
INFO:     127.0.0.1:52750 - "POST /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:52761 - "GET /api/ingestion/files?limit=10&offset=0 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52754 - "GET /api/images/storage/info HTTP/1.1" 200 OK
INFO:     127.0.0.1:52763 - "GET /api/images/ HTTP/1.1" 200 OK
2025-11-13 12:00:36,891 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 12:00:36,892 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52766 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'backend/api/routes/standards.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-11-13 12:01:03,190 - backend.api.main - INFO - Shutting down PocketMusec API...
INFO:     Application shutdown complete.
INFO:     Finished server process [49795]
INFO:     Started server process [49816]
INFO:     Waiting for application startup.
2025-11-13 12:01:03,887 - backend.api.main - INFO - Starting PocketMusec API...
2025-11-13 12:01:03,887 - backend.repositories.migrations - INFO - Starting database migration...
2025-11-13 12:01:03,887 - backend.repositories.migrations - INFO - Database already at version 8, skipping standards migration
2025-11-13 12:01:03,888 - backend.repositories.migrations - INFO - Database already at version 8, skipping M3 migration
2025-11-13 12:01:03,888 - backend.repositories.migrations - INFO - Database already at version 8, skipping v4 migration
2025-11-13 12:01:03,888 - backend.repositories.migrations - INFO - Starting extended schema migration...
2025-11-13 12:01:03,888 - backend.repositories.migrations - INFO - Created unpacking document tables
2025-11-13 12:01:03,888 - backend.repositories.migrations - INFO - Created alignment document tables
2025-11-13 12:01:03,888 - backend.repositories.migrations - INFO - Created reference document tables
2025-11-13 12:01:03,888 - backend.repositories.migrations - INFO - Created extended table indexes
2025-11-13 12:01:03,888 - backend.repositories.migrations - INFO - Extended schema migration completed successfully
2025-11-13 12:01:03,889 - backend.repositories.migrations - INFO - Database already at version 8, skipping drafts migration
2025-11-13 12:01:03,889 - backend.repositories.migrations - INFO - Database already at version 8, skipping Kindergarten migration
2025-11-13 12:01:03,889 - backend.repositories.migrations - INFO - Database already at version 8, skipping file storage migration
2025-11-13 12:01:03,889 - backend.repositories.migrations - INFO - Database already at version 8, skipping file linking migration
2025-11-13 12:01:03,889 - backend.repositories.migrations - INFO - All migrations completed successfully
2025-11-13 12:01:03,889 - backend.api.main - INFO - Database migrations completed
2025-11-13 12:01:03,889 - backend.api.main - INFO - PocketMusec API started successfully
INFO:     Application startup complete.
2025-11-13 12:01:14,051 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 12:01:14,051 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 12:01:14,053 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 12:01:14,054 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52794 - "GET /api/sessions HTTP/1.1" 200 OK
2025-11-13 12:01:14,056 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 12:01:14,056 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52798 - "GET /api/images HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:52802 - "GET /api/drafts HTTP/1.1" 200 OK
INFO:     127.0.0.1:52792 - "POST /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:52797 - "POST /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:52801 - "GET /api/images/storage/info HTTP/1.1" 200 OK
2025-11-13 12:01:14,060 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 12:01:14,060 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 12:01:14,062 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 12:01:14,062 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 12:01:14,080 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 12:01:14,080 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52810 - "GET /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:52806 - "GET /api/images/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:52811 - "GET /api/standards HTTP/1.1" 200 OK
INFO:     127.0.0.1:52814 - "GET /api/images HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:52816 - "GET /api/drafts HTTP/1.1" 200 OK
INFO:     127.0.0.1:52822 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 12:01:14,085 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 12:01:14,085 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52819 - "GET /api/images/storage/info HTTP/1.1" 200 OK
2025-11-13 12:01:14,100 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 12:01:14,100 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52825 - "GET /api/standards HTTP/1.1" 200 OK
INFO:     127.0.0.1:52828 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
INFO:     127.0.0.1:52806 - "GET /api/images/ HTTP/1.1" 200 OK
2025-11-13 12:01:18,005 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 12:01:18,007 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52833 - "GET /api/standards?grade_level=1 HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'backend/api/routes/sessions.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-11-13 12:01:19,651 - backend.api.main - INFO - Shutting down PocketMusec API...
INFO:     Application shutdown complete.
INFO:     Finished server process [49816]
INFO:     Started server process [49842]
INFO:     Waiting for application startup.
2025-11-13 12:01:20,343 - backend.api.main - INFO - Starting PocketMusec API...
2025-11-13 12:01:20,343 - backend.repositories.migrations - INFO - Starting database migration...
2025-11-13 12:01:20,344 - backend.repositories.migrations - INFO - Database already at version 8, skipping standards migration
2025-11-13 12:01:20,344 - backend.repositories.migrations - INFO - Database already at version 8, skipping M3 migration
2025-11-13 12:01:20,344 - backend.repositories.migrations - INFO - Database already at version 8, skipping v4 migration
2025-11-13 12:01:20,344 - backend.repositories.migrations - INFO - Starting extended schema migration...
2025-11-13 12:01:20,345 - backend.repositories.migrations - INFO - Created unpacking document tables
2025-11-13 12:01:20,345 - backend.repositories.migrations - INFO - Created alignment document tables
2025-11-13 12:01:20,345 - backend.repositories.migrations - INFO - Created reference document tables
2025-11-13 12:01:20,345 - backend.repositories.migrations - INFO - Created extended table indexes
2025-11-13 12:01:20,345 - backend.repositories.migrations - INFO - Extended schema migration completed successfully
2025-11-13 12:01:20,345 - backend.repositories.migrations - INFO - Database already at version 8, skipping drafts migration
2025-11-13 12:01:20,345 - backend.repositories.migrations - INFO - Database already at version 8, skipping Kindergarten migration
2025-11-13 12:01:20,346 - backend.repositories.migrations - INFO - Database already at version 8, skipping file storage migration
2025-11-13 12:01:20,346 - backend.repositories.migrations - INFO - Database already at version 8, skipping file linking migration
2025-11-13 12:01:20,346 - backend.repositories.migrations - INFO - All migrations completed successfully
2025-11-13 12:01:20,346 - backend.api.main - INFO - Database migrations completed
2025-11-13 12:01:20,346 - backend.api.main - INFO - PocketMusec API started successfully
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'backend/api/routes/sessions.py', 'backend/api/routes/standards.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-11-13 12:01:47,196 - backend.api.main - INFO - Shutting down PocketMusec API...
INFO:     Application shutdown complete.
INFO:     Finished server process [49842]
INFO:     Started server process [49886]
INFO:     Waiting for application startup.
2025-11-13 12:01:47,893 - backend.api.main - INFO - Starting PocketMusec API...
2025-11-13 12:01:47,893 - backend.repositories.migrations - INFO - Starting database migration...
2025-11-13 12:01:47,893 - backend.repositories.migrations - INFO - Database already at version 8, skipping standards migration
2025-11-13 12:01:47,894 - backend.repositories.migrations - INFO - Database already at version 8, skipping M3 migration
2025-11-13 12:01:47,894 - backend.repositories.migrations - INFO - Database already at version 8, skipping v4 migration
2025-11-13 12:01:47,894 - backend.repositories.migrations - INFO - Starting extended schema migration...
2025-11-13 12:01:47,894 - backend.repositories.migrations - INFO - Created unpacking document tables
2025-11-13 12:01:47,894 - backend.repositories.migrations - INFO - Created alignment document tables
2025-11-13 12:01:47,894 - backend.repositories.migrations - INFO - Created reference document tables
2025-11-13 12:01:47,894 - backend.repositories.migrations - INFO - Created extended table indexes
2025-11-13 12:01:47,894 - backend.repositories.migrations - INFO - Extended schema migration completed successfully
2025-11-13 12:01:47,895 - backend.repositories.migrations - INFO - Database already at version 8, skipping drafts migration
2025-11-13 12:01:47,895 - backend.repositories.migrations - INFO - Database already at version 8, skipping Kindergarten migration
2025-11-13 12:01:47,895 - backend.repositories.migrations - INFO - Database already at version 8, skipping file storage migration
2025-11-13 12:01:47,895 - backend.repositories.migrations - INFO - Database already at version 8, skipping file linking migration
2025-11-13 12:01:47,895 - backend.repositories.migrations - INFO - All migrations completed successfully
2025-11-13 12:01:47,895 - backend.api.main - INFO - Database migrations completed
2025-11-13 12:01:47,895 - backend.api.main - INFO - PocketMusec API started successfully
INFO:     Application startup complete.
2025-11-13 12:01:50,940 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 12:01:50,940 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 12:01:50,942 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 12:01:50,942 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 12:01:50,957 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 12:01:50,957 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52866 - "GET /api/images HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:52871 - "GET /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:52873 - "GET /api/drafts HTTP/1.1" 200 OK
INFO:     127.0.0.1:52874 - "GET /api/standards HTTP/1.1" 200 OK
INFO:     127.0.0.1:52864 - "POST /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:52868 - "GET /api/images/storage/info HTTP/1.1" 200 OK
2025-11-13 12:01:50,962 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 12:01:50,962 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
2025-11-13 12:01:50,964 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 12:01:50,964 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52877 - "POST /api/sessions HTTP/1.1" 200 OK
2025-11-13 12:01:50,966 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 12:01:50,967 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52885 - "GET /api/images HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:52886 - "GET /api/sessions HTTP/1.1" 200 OK
INFO:     127.0.0.1:52891 - "GET /api/drafts HTTP/1.1" 200 OK
INFO:     127.0.0.1:52892 - "GET /api/standards HTTP/1.1" 200 OK
INFO:     127.0.0.1:52890 - "GET /api/images/ HTTP/1.1" 200 OK
2025-11-13 12:01:50,984 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 12:01:50,984 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52897 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
INFO:     127.0.0.1:52894 - "GET /api/images/storage/info HTTP/1.1" 200 OK
INFO:     127.0.0.1:52899 - "GET /api/images/ HTTP/1.1" 200 OK
2025-11-13 12:01:50,989 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 12:01:50,990 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52902 - "GET /api/standards?grade_level=3&strand_code=CONNECT HTTP/1.1" 200 OK
2025-11-13 12:01:53,000 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 12:01:53,001 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52907 - "GET /api/standards?strand_code=CREATE HTTP/1.1" 200 OK
2025-11-13 12:01:54,296 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 12:01:54,297 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52910 - "GET /api/standards?grade_level=1&strand_code=CREATE HTTP/1.1" 200 OK
2025-11-13 12:02:02,263 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 12:02:02,263 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52913 - "GET /api/standards?grade_level=K&strand_code=CREATE HTTP/1.1" 200 OK
2025-11-13 12:02:09,351 - backend.llm.embeddings - INFO - Initializing embeddings tables with proper transaction management
2025-11-13 12:02:09,351 - backend.llm.embeddings - INFO - Successfully initialized embeddings tables
INFO:     127.0.0.1:52916 - "GET /api/standards?grade_level=K&strand_code=PRESENT HTTP/1.1" 200 OK
